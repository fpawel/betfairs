// Code generated by github.com/gobuffalo/packr. DO NOT EDIT

package main

import "github.com/gobuffalo/packr"

// !!! GENERATED FILE !!!
// Do NOT hand edit this file!!
// It is recommended that you DO NOT check into this file into SCM.
// We STRONGLY recommend you delete this file after you have built your
// Go binary. You can use the "packr clean" command to clean up this,
// and any other packr generated files.
func init() {
		packr.PackJSONBytes("./../../../../../../Frontend/betfairf/dist", "index.html", "\"PCFET0NUWVBFIGh0bWw+DQo8aHRtbD4NCjxoZWFkPg0KICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04IiAvPg0KICAgIDx0aXRsZT5IZWxsbyBSZWFjdCE8L3RpdGxlPg0KPC9oZWFkPg0KPGJvZHk+DQo8ZGl2IGlkPSJhcHAiPjwvZGl2Pg0KDQo8IS0tIHJlYWN0IERlcGVuZGVuY2llcyAtLT4NCjxzY3JpcHQgY3Jvc3NvcmlnaW4gc3JjPSJodHRwczovL3VucGtnLmNvbS9yZWFjdEAxNi91bWQvcmVhY3QuZGV2ZWxvcG1lbnQuanMiPjwvc2NyaXB0Pg0KPHNjcmlwdCBjcm9zc29yaWdpbiBzcmM9Imh0dHBzOi8vdW5wa2cuY29tL3JlYWN0LWRvbUAxNi91bWQvcmVhY3QtZG9tLmRldmVsb3BtZW50LmpzIj48L3NjcmlwdD4NCg0KPCEtLSByZWFjdC10YWJsZSBDU1MgLS0+DQo8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vdW5wa2cuY29tL3JlYWN0LXRhYmxlQGxhdGVzdC9yZWFjdC10YWJsZS5jc3MiPg0KDQo8IS0tIHJlYWN0LXRhYmxlIEpTIC0tPg0KPHNjcmlwdCBzcmM9Imh0dHBzOi8vdW5wa2cuY29tL3JlYWN0LXRhYmxlQGxhdGVzdC9yZWFjdC10YWJsZS5qcyI+PC9zY3JpcHQ+DQoNCjxzY3JpcHQ+DQogICAgbGV0IFJlYWN0VGFibGUgPSB3aW5kb3cuUmVhY3RUYWJsZS5kZWZhdWx0DQo8L3NjcmlwdD4NCg0KPCEtLSBNYWluIC0tPg0KPHNjcmlwdCBzcmM9Ii4vc2NyaXB0cy9tYWluLmpzIj48L3NjcmlwdD4NCjwvYm9keT4NCjwvaHRtbD4=\"")
		packr.PackJSONBytes("./../../../../../../Frontend/betfairf/dist", "scripts/main.js", "\"LyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcAovKioqKioqLyAJLy8gVGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJdmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTsKLyoqKioqKi8KLyoqKioqKi8gCS8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uCi8qKioqKiovIAlmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7Ci8qKioqKiovCi8qKioqKiovIAkJLy8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlCi8qKioqKiovIAkJaWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHsKLyoqKioqKi8gCQkJcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7Ci8qKioqKiovIAkJfQovKioqKioqLyAJCS8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpCi8qKioqKiovIAkJdmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0gewovKioqKioqLyAJCQlpOiBtb2R1bGVJZCwKLyoqKioqKi8gCQkJbDogZmFsc2UsCi8qKioqKiovIAkJCWV4cG9ydHM6IHt9Ci8qKioqKiovIAkJfTsKLyoqKioqKi8KLyoqKioqKi8gCQkvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb24KLyoqKioqKi8gCQltb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTsKLyoqKioqKi8KLyoqKioqKi8gCQkvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkCi8qKioqKiovIAkJbW9kdWxlLmwgPSB0cnVlOwovKioqKioqLwovKioqKioqLyAJCS8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlCi8qKioqKiovIAkJcmV0dXJuIG1vZHVsZS5leHBvcnRzOwovKioqKioqLyAJfQovKioqKioqLwovKioqKioqLwovKioqKioqLyAJLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXykKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7Ci8qKioqKiovCi8qKioqKiovIAkvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlczsKLyoqKioqKi8KLyoqKioqKi8gCS8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0cwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7Ci8qKioqKiovIAkJaWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkgewovKioqKioqLyAJCQlPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTsKLyoqKioqKi8gCQl9Ci8qKioqKiovIAl9OwovKioqKioqLwovKioqKioqLyAJLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0cwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykgewovKioqKioqLyAJCWlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykgewovKioqKioqLyAJCQlPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTsKLyoqKioqKi8gCQl9Ci8qKioqKiovIAkJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTsKLyoqKioqKi8gCX07Ci8qKioqKiovCi8qKioqKiovIAkvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3QKLyoqKioqKi8gCS8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdAovKioqKioqLyAJLy8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zCi8qKioqKiovIAkvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3QKLyoqKioqKi8gCS8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmUKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7Ci8qKioqKiovIAkJaWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7Ci8qKioqKiovIAkJaWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTsKLyoqKioqKi8gCQlpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlOwovKioqKioqLyAJCXZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7Ci8qKioqKiovIAkJX193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTsKLyoqKioqKi8gCQlPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7Ci8qKioqKiovIAkJaWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpOwovKioqKioqLyAJCXJldHVybiBuczsKLyoqKioqKi8gCX07Ci8qKioqKiovCi8qKioqKiovIAkvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlcwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7Ci8qKioqKiovIAkJdmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/Ci8qKioqKiovIAkJCWZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6Ci8qKioqKiovIAkJCWZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07Ci8qKioqKiovIAkJX193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpOwovKioqKioqLyAJCXJldHVybiBnZXR0ZXI7Ci8qKioqKiovIAl9OwovKioqKioqLwovKioqKioqLyAJLy8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07Ci8qKioqKiovCi8qKioqKiovIAkvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfXwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gIiI7Ci8qKioqKiovCi8qKioqKiovCi8qKioqKiovIAkvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHMKLyoqKioqKi8gCXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApOwovKioqKioqLyB9KQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKioqKioqLyAoewoKLyoqKi8gIi4vbm9kZV9tb2R1bGVzL3JlY29ubmVjdGluZ3dlYnNvY2tldC9yZWNvbm5lY3Rpbmctd2Vic29ja2V0LmpzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi9ub2RlX21vZHVsZXMvcmVjb25uZWN0aW5nd2Vic29ja2V0L3JlY29ubmVjdGluZy13ZWJzb2NrZXQuanMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKdmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187Ly8gTUlUIExpY2Vuc2U6Ci8vCi8vIENvcHlyaWdodCAoYykgMjAxMC0yMDEyLCBKb2UgV2FsbmVzCi8vCi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkKLy8gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksIHRvIGRlYWwKLy8gaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwovLyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsCi8vIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcwovLyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgovLwovLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbgovLyBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KLy8KLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKLy8gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCi8vIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRQovLyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCi8vIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCi8vIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4KLy8gVEhFIFNPRlRXQVJFLgoKLyoqCiAqIFRoaXMgYmVoYXZlcyBsaWtlIGEgV2ViU29ja2V0IGluIGV2ZXJ5IHdheSwgZXhjZXB0IGlmIGl0IGZhaWxzIHRvIGNvbm5lY3QsCiAqIG9yIGl0IGdldHMgZGlzY29ubmVjdGVkLCBpdCB3aWxsIHJlcGVhdGVkbHkgcG9sbCB1bnRpbCBpdCBzdWNjZXNzZnVsbHkgY29ubmVjdHMKICogYWdhaW4uCiAqCiAqIEl0IGlzIEFQSSBjb21wYXRpYmxlLCBzbyB3aGVuIHlvdSBoYXZlOgogKiAgIHdzID0gbmV3IFdlYlNvY2tldCgnd3M6Ly8uLi4uJyk7CiAqIHlvdSBjYW4gcmVwbGFjZSB3aXRoOgogKiAgIHdzID0gbmV3IFJlY29ubmVjdGluZ1dlYlNvY2tldCgnd3M6Ly8uLi4uJyk7CiAqCiAqIFRoZSBldmVudCBzdHJlYW0gd2lsbCB0eXBpY2FsbHkgbG9vayBsaWtlOgogKiAgb25jb25uZWN0aW5nCiAqICBvbm9wZW4KICogIG9ubWVzc2FnZQogKiAgb25tZXNzYWdlCiAqICBvbmNsb3NlIC8vIGxvc3QgY29ubmVjdGlvbgogKiAgb25jb25uZWN0aW5nCiAqICBvbm9wZW4gIC8vIHNvbWV0aW1lIGxhdGVyLi4uCiAqICBvbm1lc3NhZ2UKICogIG9ubWVzc2FnZQogKiAgZXRjLi4uCiAqCiAqIEl0IGlzIEFQSSBjb21wYXRpYmxlIHdpdGggdGhlIHN0YW5kYXJkIFdlYlNvY2tldCBBUEksIGFwYXJ0IGZyb20gdGhlIGZvbGxvd2luZyBtZW1iZXJzOgogKgogKiAtIGBidWZmZXJlZEFtb3VudGAKICogLSBgZXh0ZW5zaW9uc2AKICogLSBgYmluYXJ5VHlwZWAKICoKICogTGF0ZXN0IHZlcnNpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9qb2V3YWxuZXMvcmVjb25uZWN0aW5nLXdlYnNvY2tldC8KICogLSBKb2UgV2FsbmVzCiAqCiAqIFN5bnRheAogKiA9PT09PT0KICogdmFyIHNvY2tldCA9IG5ldyBSZWNvbm5lY3RpbmdXZWJTb2NrZXQodXJsLCBwcm90b2NvbHMsIG9wdGlvbnMpOwogKgogKiBQYXJhbWV0ZXJzCiAqID09PT09PT09PT0KICogdXJsIC0gVGhlIHVybCB5b3UgYXJlIGNvbm5lY3RpbmcgdG8uCiAqIHByb3RvY29scyAtIE9wdGlvbmFsIHN0cmluZyBvciBhcnJheSBvZiBwcm90b2NvbHMuCiAqIG9wdGlvbnMgLSBTZWUgYmVsb3cKICoKICogT3B0aW9ucwogKiA9PT09PT09CiAqIE9wdGlvbnMgY2FuIGVpdGhlciBiZSBwYXNzZWQgdXBvbiBpbnN0YW50aWF0aW9uIG9yIHNldCBhZnRlciBpbnN0YW50aWF0aW9uOgogKgogKiB2YXIgc29ja2V0ID0gbmV3IFJlY29ubmVjdGluZ1dlYlNvY2tldCh1cmwsIG51bGwsIHsgZGVidWc6IHRydWUsIHJlY29ubmVjdEludGVydmFsOiA0MDAwIH0pOwogKgogKiBvcgogKgogKiB2YXIgc29ja2V0ID0gbmV3IFJlY29ubmVjdGluZ1dlYlNvY2tldCh1cmwpOwogKiBzb2NrZXQuZGVidWcgPSB0cnVlOwogKiBzb2NrZXQucmVjb25uZWN0SW50ZXJ2YWwgPSA0MDAwOwogKgogKiBkZWJ1ZwogKiAtIFdoZXRoZXIgdGhpcyBpbnN0YW5jZSBzaG91bGQgbG9nIGRlYnVnIG1lc3NhZ2VzLiBBY2NlcHRzIHRydWUgb3IgZmFsc2UuIERlZmF1bHQ6IGZhbHNlLgogKgogKiBhdXRvbWF0aWNPcGVuCiAqIC0gV2hldGhlciBvciBub3QgdGhlIHdlYnNvY2tldCBzaG91bGQgYXR0ZW1wdCB0byBjb25uZWN0IGltbWVkaWF0ZWx5IHVwb24gaW5zdGFudGlhdGlvbi4gVGhlIHNvY2tldCBjYW4gYmUgbWFudWFsbHkgb3BlbmVkIG9yIGNsb3NlZCBhdCBhbnkgdGltZSB1c2luZyB3cy5vcGVuKCkgYW5kIHdzLmNsb3NlKCkuCiAqCiAqIHJlY29ubmVjdEludGVydmFsCiAqIC0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgYmVmb3JlIGF0dGVtcHRpbmcgdG8gcmVjb25uZWN0LiBBY2NlcHRzIGludGVnZXIuIERlZmF1bHQ6IDEwMDAuCiAqCiAqIG1heFJlY29ubmVjdEludGVydmFsCiAqIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBhIHJlY29ubmVjdGlvbiBhdHRlbXB0LiBBY2NlcHRzIGludGVnZXIuIERlZmF1bHQ6IDMwMDAwLgogKgogKiByZWNvbm5lY3REZWNheQogKiAtIFRoZSByYXRlIG9mIGluY3JlYXNlIG9mIHRoZSByZWNvbm5lY3QgZGVsYXkuIEFsbG93cyByZWNvbm5lY3QgYXR0ZW1wdHMgdG8gYmFjayBvZmYgd2hlbiBwcm9ibGVtcyBwZXJzaXN0LiBBY2NlcHRzIGludGVnZXIgb3IgZmxvYXQuIERlZmF1bHQ6IDEuNS4KICoKICogdGltZW91dEludGVydmFsCiAqIC0gVGhlIG1heGltdW0gdGltZSBpbiBtaWxsaXNlY29uZHMgdG8gd2FpdCBmb3IgYSBjb25uZWN0aW9uIHRvIHN1Y2NlZWQgYmVmb3JlIGNsb3NpbmcgYW5kIHJldHJ5aW5nLiBBY2NlcHRzIGludGVnZXIuIERlZmF1bHQ6IDIwMDAuCiAqCiAqLwooZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkgewogICAgaWYgKHRydWUpIHsKICAgICAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fID0gKGZhY3RvcnkpLAoJCQkJX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAodHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/CgkJCQkoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pKSA6IF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyksCgkJCQlfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7CiAgICB9IGVsc2Uge30KfSkodGhpcywgZnVuY3Rpb24gKCkgewoKICAgIGlmICghKCdXZWJTb2NrZXQnIGluIHdpbmRvdykpIHsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgZnVuY3Rpb24gUmVjb25uZWN0aW5nV2ViU29ja2V0KHVybCwgcHJvdG9jb2xzLCBvcHRpb25zKSB7CgogICAgICAgIC8vIERlZmF1bHQgc2V0dGluZ3MKICAgICAgICB2YXIgc2V0dGluZ3MgPSB7CgogICAgICAgICAgICAvKiogV2hldGhlciB0aGlzIGluc3RhbmNlIHNob3VsZCBsb2cgZGVidWcgbWVzc2FnZXMuICovCiAgICAgICAgICAgIGRlYnVnOiBmYWxzZSwKCiAgICAgICAgICAgIC8qKiBXaGV0aGVyIG9yIG5vdCB0aGUgd2Vic29ja2V0IHNob3VsZCBhdHRlbXB0IHRvIGNvbm5lY3QgaW1tZWRpYXRlbHkgdXBvbiBpbnN0YW50aWF0aW9uLiAqLwogICAgICAgICAgICBhdXRvbWF0aWNPcGVuOiB0cnVlLAoKICAgICAgICAgICAgLyoqIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGJlZm9yZSBhdHRlbXB0aW5nIHRvIHJlY29ubmVjdC4gKi8KICAgICAgICAgICAgcmVjb25uZWN0SW50ZXJ2YWw6IDEwMDAsCiAgICAgICAgICAgIC8qKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGEgcmVjb25uZWN0aW9uIGF0dGVtcHQuICovCiAgICAgICAgICAgIG1heFJlY29ubmVjdEludGVydmFsOiAzMDAwMCwKICAgICAgICAgICAgLyoqIFRoZSByYXRlIG9mIGluY3JlYXNlIG9mIHRoZSByZWNvbm5lY3QgZGVsYXkuIEFsbG93cyByZWNvbm5lY3QgYXR0ZW1wdHMgdG8gYmFjayBvZmYgd2hlbiBwcm9ibGVtcyBwZXJzaXN0LiAqLwogICAgICAgICAgICByZWNvbm5lY3REZWNheTogMS41LAoKICAgICAgICAgICAgLyoqIFRoZSBtYXhpbXVtIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIGEgY29ubmVjdGlvbiB0byBzdWNjZWVkIGJlZm9yZSBjbG9zaW5nIGFuZCByZXRyeWluZy4gKi8KICAgICAgICAgICAgdGltZW91dEludGVydmFsOiAyMDAwLAoKICAgICAgICAgICAgLyoqIFRoZSBtYXhpbXVtIG51bWJlciBvZiByZWNvbm5lY3Rpb24gYXR0ZW1wdHMgdG8gbWFrZS4gVW5saW1pdGVkIGlmIG51bGwuICovCiAgICAgICAgICAgIG1heFJlY29ubmVjdEF0dGVtcHRzOiBudWxsCiAgICAgICAgfQogICAgICAgIGlmICghb3B0aW9ucykgeyBvcHRpb25zID0ge307IH0KCiAgICAgICAgLy8gT3ZlcndyaXRlIGFuZCBkZWZpbmUgc2V0dGluZ3Mgd2l0aCBvcHRpb25zIGlmIHRoZXkgZXhpc3QuCiAgICAgICAgZm9yICh2YXIga2V5IGluIHNldHRpbmdzKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uc1trZXldICE9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgdGhpc1trZXldID0gb3B0aW9uc1trZXldOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpc1trZXldID0gc2V0dGluZ3Nba2V5XTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gVGhlc2Ugc2hvdWxkIGJlIHRyZWF0ZWQgYXMgcmVhZC1vbmx5IHByb3BlcnRpZXMKCiAgICAgICAgLyoqIFRoZSBVUkwgYXMgcmVzb2x2ZWQgYnkgdGhlIGNvbnN0cnVjdG9yLiBUaGlzIGlzIGFsd2F5cyBhbiBhYnNvbHV0ZSBVUkwuIFJlYWQgb25seS4gKi8KICAgICAgICB0aGlzLnVybCA9IHVybDsKCiAgICAgICAgLyoqIFRoZSBudW1iZXIgb2YgYXR0ZW1wdGVkIHJlY29ubmVjdHMgc2luY2Ugc3RhcnRpbmcsIG9yIHRoZSBsYXN0IHN1Y2Nlc3NmdWwgY29ubmVjdGlvbi4gUmVhZCBvbmx5LiAqLwogICAgICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPSAwOwoKICAgICAgICAvKioKICAgICAgICAgKiBUaGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgY29ubmVjdGlvbi4KICAgICAgICAgKiBDYW4gYmUgb25lIG9mOiBXZWJTb2NrZXQuQ09OTkVDVElORywgV2ViU29ja2V0Lk9QRU4sIFdlYlNvY2tldC5DTE9TSU5HLCBXZWJTb2NrZXQuQ0xPU0VECiAgICAgICAgICogUmVhZCBvbmx5LgogICAgICAgICAqLwogICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFdlYlNvY2tldC5DT05ORUNUSU5HOwoKICAgICAgICAvKioKICAgICAgICAgKiBBIHN0cmluZyBpbmRpY2F0aW5nIHRoZSBuYW1lIG9mIHRoZSBzdWItcHJvdG9jb2wgdGhlIHNlcnZlciBzZWxlY3RlZDsgdGhpcyB3aWxsIGJlIG9uZSBvZgogICAgICAgICAqIHRoZSBzdHJpbmdzIHNwZWNpZmllZCBpbiB0aGUgcHJvdG9jb2xzIHBhcmFtZXRlciB3aGVuIGNyZWF0aW5nIHRoZSBXZWJTb2NrZXQgb2JqZWN0LgogICAgICAgICAqIFJlYWQgb25seS4KICAgICAgICAgKi8KICAgICAgICB0aGlzLnByb3RvY29sID0gbnVsbDsKCiAgICAgICAgLy8gUHJpdmF0ZSBzdGF0ZSB2YXJpYWJsZXMKCiAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgIHZhciB3czsKICAgICAgICB2YXIgZm9yY2VkQ2xvc2UgPSBmYWxzZTsKICAgICAgICB2YXIgdGltZWRPdXQgPSBmYWxzZTsKICAgICAgICB2YXIgZXZlbnRUYXJnZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKCiAgICAgICAgLy8gV2lyZSB1cCAib24qIiBwcm9wZXJ0aWVzIGFzIGV2ZW50IGhhbmRsZXJzCgogICAgICAgIGV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCAgICAgICBmdW5jdGlvbihldmVudCkgeyBzZWxmLm9ub3BlbihldmVudCk7IH0pOwogICAgICAgIGV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgICAgICBmdW5jdGlvbihldmVudCkgeyBzZWxmLm9uY2xvc2UoZXZlbnQpOyB9KTsKICAgICAgICBldmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdjb25uZWN0aW5nJywgZnVuY3Rpb24oZXZlbnQpIHsgc2VsZi5vbmNvbm5lY3RpbmcoZXZlbnQpOyB9KTsKICAgICAgICBldmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgICAgZnVuY3Rpb24oZXZlbnQpIHsgc2VsZi5vbm1lc3NhZ2UoZXZlbnQpOyB9KTsKICAgICAgICBldmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsICAgICAgZnVuY3Rpb24oZXZlbnQpIHsgc2VsZi5vbmVycm9yKGV2ZW50KTsgfSk7CgogICAgICAgIC8vIEV4cG9zZSB0aGUgQVBJIHJlcXVpcmVkIGJ5IEV2ZW50VGFyZ2V0CgogICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lciA9IGV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIuYmluZChldmVudFRhcmdldCk7CiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyID0gZXZlbnRUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lci5iaW5kKGV2ZW50VGFyZ2V0KTsKICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQgPSBldmVudFRhcmdldC5kaXNwYXRjaEV2ZW50LmJpbmQoZXZlbnRUYXJnZXQpOwoKICAgICAgICAvKioKICAgICAgICAgKiBUaGlzIGZ1bmN0aW9uIGdlbmVyYXRlcyBhbiBldmVudCB0aGF0IGlzIGNvbXBhdGlibGUgd2l0aCBzdGFuZGFyZAogICAgICAgICAqIGNvbXBsaWFudCBicm93c2VycyBhbmQgSUU5IC0gSUUxMQogICAgICAgICAqCiAgICAgICAgICogVGhpcyB3aWxsIHByZXZlbnQgdGhlIGVycm9yOgogICAgICAgICAqIE9iamVjdCBkb2Vzbid0IHN1cHBvcnQgdGhpcyBhY3Rpb24KICAgICAgICAgKgogICAgICAgICAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTkzNDUzOTIvd2h5LWFyZW50LW15LXBhcmFtZXRlcnMtZ2V0dGluZy1wYXNzZWQtdGhyb3VnaC10by1hLWRpc3BhdGNoZWQtZXZlbnQvMTkzNDU1NjMjMTkzNDU1NjMKICAgICAgICAgKiBAcGFyYW0gcyBTdHJpbmcgVGhlIG5hbWUgdGhhdCB0aGUgZXZlbnQgc2hvdWxkIHVzZQogICAgICAgICAqIEBwYXJhbSBhcmdzIE9iamVjdCBhbiBvcHRpb25hbCBvYmplY3QgdGhhdCB0aGUgZXZlbnQgd2lsbCB1c2UKICAgICAgICAgKi8KICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZUV2ZW50KHMsIGFyZ3MpIHsKICAgICAgICAJdmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCJDdXN0b21FdmVudCIpOwogICAgICAgIAlldnQuaW5pdEN1c3RvbUV2ZW50KHMsIGZhbHNlLCBmYWxzZSwgYXJncyk7CiAgICAgICAgCXJldHVybiBldnQ7CiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5vcGVuID0gZnVuY3Rpb24gKHJlY29ubmVjdEF0dGVtcHQpIHsKICAgICAgICAgICAgd3MgPSBuZXcgV2ViU29ja2V0KHNlbGYudXJsLCBwcm90b2NvbHMgfHwgW10pOwoKICAgICAgICAgICAgaWYgKHJlY29ubmVjdEF0dGVtcHQpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzICYmIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPiB0aGlzLm1heFJlY29ubmVjdEF0dGVtcHRzKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZXZlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudChnZW5lcmF0ZUV2ZW50KCdjb25uZWN0aW5nJykpOwogICAgICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cyA9IDA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzZWxmLmRlYnVnIHx8IFJlY29ubmVjdGluZ1dlYlNvY2tldC5kZWJ1Z0FsbCkgewogICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnUmVjb25uZWN0aW5nV2ViU29ja2V0JywgJ2F0dGVtcHQtY29ubmVjdCcsIHNlbGYudXJsKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIGxvY2FsV3MgPSB3czsKICAgICAgICAgICAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgaWYgKHNlbGYuZGVidWcgfHwgUmVjb25uZWN0aW5nV2ViU29ja2V0LmRlYnVnQWxsKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnUmVjb25uZWN0aW5nV2ViU29ja2V0JywgJ2Nvbm5lY3Rpb24tdGltZW91dCcsIHNlbGYudXJsKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRpbWVkT3V0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGxvY2FsV3MuY2xvc2UoKTsKICAgICAgICAgICAgICAgIHRpbWVkT3V0ID0gZmFsc2U7CiAgICAgICAgICAgIH0sIHNlbGYudGltZW91dEludGVydmFsKTsKCiAgICAgICAgICAgIHdzLm9ub3BlbiA9IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7CiAgICAgICAgICAgICAgICBpZiAoc2VsZi5kZWJ1ZyB8fCBSZWNvbm5lY3RpbmdXZWJTb2NrZXQuZGVidWdBbGwpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdSZWNvbm5lY3RpbmdXZWJTb2NrZXQnLCAnb25vcGVuJywgc2VsZi51cmwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2VsZi5wcm90b2NvbCA9IHdzLnByb3RvY29sOwogICAgICAgICAgICAgICAgc2VsZi5yZWFkeVN0YXRlID0gV2ViU29ja2V0Lk9QRU47CiAgICAgICAgICAgICAgICBzZWxmLnJlY29ubmVjdEF0dGVtcHRzID0gMDsKICAgICAgICAgICAgICAgIHZhciBlID0gZ2VuZXJhdGVFdmVudCgnb3BlbicpOwogICAgICAgICAgICAgICAgZS5pc1JlY29ubmVjdCA9IHJlY29ubmVjdEF0dGVtcHQ7CiAgICAgICAgICAgICAgICByZWNvbm5lY3RBdHRlbXB0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICBldmVudFRhcmdldC5kaXNwYXRjaEV2ZW50KGUpOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgd3Mub25jbG9zZSA9IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7CiAgICAgICAgICAgICAgICB3cyA9IG51bGw7CiAgICAgICAgICAgICAgICBpZiAoZm9yY2VkQ2xvc2UpIHsKICAgICAgICAgICAgICAgICAgICBzZWxmLnJlYWR5U3RhdGUgPSBXZWJTb2NrZXQuQ0xPU0VEOwogICAgICAgICAgICAgICAgICAgIGV2ZW50VGFyZ2V0LmRpc3BhdGNoRXZlbnQoZ2VuZXJhdGVFdmVudCgnY2xvc2UnKSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHNlbGYucmVhZHlTdGF0ZSA9IFdlYlNvY2tldC5DT05ORUNUSU5HOwogICAgICAgICAgICAgICAgICAgIHZhciBlID0gZ2VuZXJhdGVFdmVudCgnY29ubmVjdGluZycpOwogICAgICAgICAgICAgICAgICAgIGUuY29kZSA9IGV2ZW50LmNvZGU7CiAgICAgICAgICAgICAgICAgICAgZS5yZWFzb24gPSBldmVudC5yZWFzb247CiAgICAgICAgICAgICAgICAgICAgZS53YXNDbGVhbiA9IGV2ZW50Lndhc0NsZWFuOwogICAgICAgICAgICAgICAgICAgIGV2ZW50VGFyZ2V0LmRpc3BhdGNoRXZlbnQoZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWNvbm5lY3RBdHRlbXB0ICYmICF0aW1lZE91dCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5kZWJ1ZyB8fCBSZWNvbm5lY3RpbmdXZWJTb2NrZXQuZGVidWdBbGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1JlY29ubmVjdGluZ1dlYlNvY2tldCcsICdvbmNsb3NlJywgc2VsZi51cmwpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VGFyZ2V0LmRpc3BhdGNoRXZlbnQoZ2VuZXJhdGVFdmVudCgnY2xvc2UnKSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB2YXIgdGltZW91dCA9IHNlbGYucmVjb25uZWN0SW50ZXJ2YWwgKiBNYXRoLnBvdyhzZWxmLnJlY29ubmVjdERlY2F5LCBzZWxmLnJlY29ubmVjdEF0dGVtcHRzKTsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlY29ubmVjdEF0dGVtcHRzKys7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub3Blbih0cnVlKTsKICAgICAgICAgICAgICAgICAgICB9LCB0aW1lb3V0ID4gc2VsZi5tYXhSZWNvbm5lY3RJbnRlcnZhbCA/IHNlbGYubWF4UmVjb25uZWN0SW50ZXJ2YWwgOiB0aW1lb3V0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgd3Mub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgICAgIGlmIChzZWxmLmRlYnVnIHx8IFJlY29ubmVjdGluZ1dlYlNvY2tldC5kZWJ1Z0FsbCkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1JlY29ubmVjdGluZ1dlYlNvY2tldCcsICdvbm1lc3NhZ2UnLCBzZWxmLnVybCwgZXZlbnQuZGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgZSA9IGdlbmVyYXRlRXZlbnQoJ21lc3NhZ2UnKTsKICAgICAgICAgICAgICAgIGUuZGF0YSA9IGV2ZW50LmRhdGE7CiAgICAgICAgICAgICAgICBldmVudFRhcmdldC5kaXNwYXRjaEV2ZW50KGUpOwogICAgICAgICAgICB9OwogICAgICAgICAgICB3cy5vbmVycm9yID0gZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgICAgIGlmIChzZWxmLmRlYnVnIHx8IFJlY29ubmVjdGluZ1dlYlNvY2tldC5kZWJ1Z0FsbCkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1JlY29ubmVjdGluZ1dlYlNvY2tldCcsICdvbmVycm9yJywgc2VsZi51cmwsIGV2ZW50KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGV2ZW50VGFyZ2V0LmRpc3BhdGNoRXZlbnQoZ2VuZXJhdGVFdmVudCgnZXJyb3InKSk7CiAgICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICAvLyBXaGV0aGVyIG9yIG5vdCB0byBjcmVhdGUgYSB3ZWJzb2NrZXQgdXBvbiBpbnN0YW50aWF0aW9uCiAgICAgICAgaWYgKHRoaXMuYXV0b21hdGljT3BlbiA9PSB0cnVlKSB7CiAgICAgICAgICAgIHRoaXMub3BlbihmYWxzZSk7CiAgICAgICAgfQoKICAgICAgICAvKioKICAgICAgICAgKiBUcmFuc21pdHMgZGF0YSB0byB0aGUgc2VydmVyIG92ZXIgdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uLgogICAgICAgICAqCiAgICAgICAgICogQHBhcmFtIGRhdGEgYSB0ZXh0IHN0cmluZywgQXJyYXlCdWZmZXIgb3IgQmxvYiB0byBzZW5kIHRvIHRoZSBzZXJ2ZXIuCiAgICAgICAgICovCiAgICAgICAgdGhpcy5zZW5kID0gZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICBpZiAod3MpIHsKICAgICAgICAgICAgICAgIGlmIChzZWxmLmRlYnVnIHx8IFJlY29ubmVjdGluZ1dlYlNvY2tldC5kZWJ1Z0FsbCkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1JlY29ubmVjdGluZ1dlYlNvY2tldCcsICdzZW5kJywgc2VsZi51cmwsIGRhdGEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIHdzLnNlbmQoZGF0YSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aHJvdyAnSU5WQUxJRF9TVEFURV9FUlIgOiBQYXVzaW5nIHRvIHJlY29ubmVjdCB3ZWJzb2NrZXQnOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgLyoqCiAgICAgICAgICogQ2xvc2VzIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbiBvciBjb25uZWN0aW9uIGF0dGVtcHQsIGlmIGFueS4KICAgICAgICAgKiBJZiB0aGUgY29ubmVjdGlvbiBpcyBhbHJlYWR5IENMT1NFRCwgdGhpcyBtZXRob2QgZG9lcyBub3RoaW5nLgogICAgICAgICAqLwogICAgICAgIHRoaXMuY2xvc2UgPSBmdW5jdGlvbihjb2RlLCByZWFzb24pIHsKICAgICAgICAgICAgLy8gRGVmYXVsdCBDTE9TRV9OT1JNQUwgY29kZQogICAgICAgICAgICBpZiAodHlwZW9mIGNvZGUgPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgIGNvZGUgPSAxMDAwOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvcmNlZENsb3NlID0gdHJ1ZTsKICAgICAgICAgICAgaWYgKHdzKSB7CiAgICAgICAgICAgICAgICB3cy5jbG9zZShjb2RlLCByZWFzb24pOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgLyoqCiAgICAgICAgICogQWRkaXRpb25hbCBwdWJsaWMgQVBJIG1ldGhvZCB0byByZWZyZXNoIHRoZSBjb25uZWN0aW9uIGlmIHN0aWxsIG9wZW4gKGNsb3NlLCByZS1vcGVuKS4KICAgICAgICAgKiBGb3IgZXhhbXBsZSwgaWYgdGhlIGFwcCBzdXNwZWN0cyBiYWQgZGF0YSAvIG1pc3NlZCBoZWFydCBiZWF0cywgaXQgY2FuIHRyeSB0byByZWZyZXNoLgogICAgICAgICAqLwogICAgICAgIHRoaXMucmVmcmVzaCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAod3MpIHsKICAgICAgICAgICAgICAgIHdzLmNsb3NlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIC8qKgogICAgICogQW4gZXZlbnQgbGlzdGVuZXIgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uJ3MgcmVhZHlTdGF0ZSBjaGFuZ2VzIHRvIE9QRU47CiAgICAgKiB0aGlzIGluZGljYXRlcyB0aGF0IHRoZSBjb25uZWN0aW9uIGlzIHJlYWR5IHRvIHNlbmQgYW5kIHJlY2VpdmUgZGF0YS4KICAgICAqLwogICAgUmVjb25uZWN0aW5nV2ViU29ja2V0LnByb3RvdHlwZS5vbm9wZW4gPSBmdW5jdGlvbihldmVudCkge307CiAgICAvKiogQW4gZXZlbnQgbGlzdGVuZXIgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uJ3MgcmVhZHlTdGF0ZSBjaGFuZ2VzIHRvIENMT1NFRC4gKi8KICAgIFJlY29ubmVjdGluZ1dlYlNvY2tldC5wcm90b3R5cGUub25jbG9zZSA9IGZ1bmN0aW9uKGV2ZW50KSB7fTsKICAgIC8qKiBBbiBldmVudCBsaXN0ZW5lciB0byBiZSBjYWxsZWQgd2hlbiBhIGNvbm5lY3Rpb24gYmVnaW5zIGJlaW5nIGF0dGVtcHRlZC4gKi8KICAgIFJlY29ubmVjdGluZ1dlYlNvY2tldC5wcm90b3R5cGUub25jb25uZWN0aW5nID0gZnVuY3Rpb24oZXZlbnQpIHt9OwogICAgLyoqIEFuIGV2ZW50IGxpc3RlbmVyIHRvIGJlIGNhbGxlZCB3aGVuIGEgbWVzc2FnZSBpcyByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIuICovCiAgICBSZWNvbm5lY3RpbmdXZWJTb2NrZXQucHJvdG90eXBlLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7fTsKICAgIC8qKiBBbiBldmVudCBsaXN0ZW5lciB0byBiZSBjYWxsZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMuICovCiAgICBSZWNvbm5lY3RpbmdXZWJTb2NrZXQucHJvdG90eXBlLm9uZXJyb3IgPSBmdW5jdGlvbihldmVudCkge307CgogICAgLyoqCiAgICAgKiBXaGV0aGVyIGFsbCBpbnN0YW5jZXMgb2YgUmVjb25uZWN0aW5nV2ViU29ja2V0IHNob3VsZCBsb2cgZGVidWcgbWVzc2FnZXMuCiAgICAgKiBTZXR0aW5nIHRoaXMgdG8gdHJ1ZSBpcyB0aGUgZXF1aXZhbGVudCBvZiBzZXR0aW5nIGFsbCBpbnN0YW5jZXMgb2YgUmVjb25uZWN0aW5nV2ViU29ja2V0LmRlYnVnIHRvIHRydWUuCiAgICAgKi8KICAgIFJlY29ubmVjdGluZ1dlYlNvY2tldC5kZWJ1Z0FsbCA9IGZhbHNlOwoKICAgIFJlY29ubmVjdGluZ1dlYlNvY2tldC5DT05ORUNUSU5HID0gV2ViU29ja2V0LkNPTk5FQ1RJTkc7CiAgICBSZWNvbm5lY3RpbmdXZWJTb2NrZXQuT1BFTiA9IFdlYlNvY2tldC5PUEVOOwogICAgUmVjb25uZWN0aW5nV2ViU29ja2V0LkNMT1NJTkcgPSBXZWJTb2NrZXQuQ0xPU0lORzsKICAgIFJlY29ubmVjdGluZ1dlYlNvY2tldC5DTE9TRUQgPSBXZWJTb2NrZXQuQ0xPU0VEOwoKICAgIHJldHVybiBSZWNvbm5lY3RpbmdXZWJTb2NrZXQ7Cn0pOwoKCi8qKiovIH0pLAoKLyoqKi8gIi4vc3JjL2NvbXBvbmVudHMvRm9vdGJhbGwvRm9vdGJhbGwudHN4IjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi9zcmMvY29tcG9uZW50cy9Gb290YmFsbC9Gb290YmFsbC50c3ggKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwoNCnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsNCiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fA0KICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8DQogICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9Ow0KICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgew0KICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOw0KICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0NCiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOw0KICAgIH07DQp9KSgpOw0KdmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7DQogICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDsNCiAgICB2YXIgcmVzdWx0ID0ge307DQogICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTsNCiAgICByZXN1bHRbImRlZmF1bHQiXSA9IG1vZDsNCiAgICByZXR1cm4gcmVzdWx0Ow0KfTsNCnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkgew0KICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgImRlZmF1bHQiOiBtb2QgfTsNCn07DQpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOw0KdmFyIFJlYWN0ID0gX19pbXBvcnRTdGFyKF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0ICovICJyZWFjdCIpKTsNCnZhciBnYW1lXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2dhbWUgKi8gIi4vc3JjL2NvbXBvbmVudHMvRm9vdGJhbGwvZ2FtZS50cyIpOw0KdmFyIHJlY29ubmVjdGluZ3dlYnNvY2tldF8xID0gX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlY29ubmVjdGluZ3dlYnNvY2tldCAqLyAiLi9ub2RlX21vZHVsZXMvcmVjb25uZWN0aW5nd2Vic29ja2V0L3JlY29ubmVjdGluZy13ZWJzb2NrZXQuanMiKSk7DQp2YXIgdXRpbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3V0aWxzL3V0aWxzICovICIuL3NyYy91dGlscy91dGlscy50cyIpOw0KdmFyIHJlYWN0X3RhYmxlXzEgPSBfX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QtdGFibGUgKi8gInJlYWN0LXRhYmxlIikpOw0KdmFyIGNlbGxNb25leSA9IGZ1bmN0aW9uIChyb3cpIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IHN0eWxlOiB7DQogICAgICAgIHdpZHRoOiAnMTAwJScsDQogICAgICAgIGZvbnRTdHlsZTogJ2l0YWxpYycsDQogICAgICAgIHRleHRBbGlnbjogJ3JpZ2h0JywNCiAgICB9IH0sDQogICAgcm93LnZhbHVlID8gcm93LnZhbHVlIDogJycsDQogICAgIiAiLA0KICAgIHJvdy52YWx1ZSA/ICckJyA6ICcnKSk7IH07DQp2YXIgY2VsbENvZWZmID0gZnVuY3Rpb24gKHJvdykgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgc3R5bGU6IHsNCiAgICAgICAgd2lkdGg6ICcxMDAlJywNCiAgICAgICAgdGV4dEFsaWduOiAncmlnaHQnLA0KICAgIH0gfSwgcm93LnZhbHVlID8gcm93LnZhbHVlIDogJycpKTsgfTsNCnZhciBjb2x1bW5zID0gWw0KICAgIHsNCiAgICAgICAgSGVhZGVyOiAn4oSWJywNCiAgICAgICAgYWNjZXNzb3I6ICdPcmRlcicsDQogICAgICAgIHdpZHRoOiA0MCwNCiAgICB9LA0KICAgIHsNCiAgICAgICAgSGVhZGVyOiAn0JTQvtC80LAnLA0KICAgICAgICBhY2Nlc3NvcjogJ2hvbWUnLA0KICAgIH0sDQogICAgew0KICAgICAgICBIZWFkZXI6ICfQodGH0ZHRgicsDQogICAgICAgIGFjY2Vzc29yOiAnU2NvcmUnLA0KICAgICAgICB3aWR0aDogNzAsDQogICAgfSwNCiAgICB7DQogICAgICAgIEhlYWRlcjogJ9CSINCz0L7RgdGC0Y/RhScsDQogICAgICAgIGFjY2Vzc29yOiAnYXdheScsDQogICAgfSwNCiAgICB7DQogICAgICAgIEhlYWRlcjogJ9CS0YDQtdC80Y8nLA0KICAgICAgICBhY2Nlc3NvcjogJ3RpbWUnLA0KICAgICAgICB3aWR0aDogMTMwLA0KICAgICAgICBDZWxsOiBmdW5jdGlvbiAocm93KSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBzdHlsZTogew0KICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsDQogICAgICAgICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJywNCiAgICAgICAgICAgICAgICBmb250U3R5bGU6ICdpdGFsaWMnLA0KICAgICAgICAgICAgfSB9LCByb3cudmFsdWUpKTsgfQ0KICAgIH0sDQogICAgew0KICAgICAgICBIZWFkZXI6ICfQp9C10LzQv9C40L7QvdCw0YInLA0KICAgICAgICBhY2Nlc3NvcjogJ2NvbXBldGl0aW9uJywNCiAgICAgICAgd2lkdGg6IDIwMCwNCiAgICB9LA0KICAgIHsNCiAgICAgICAgSGVhZGVyOiAn0KHRgtGA0LDQvdCwJywNCiAgICAgICAgYWNjZXNzb3I6ICdjb3VudHJ5JywNCiAgICAgICAgd2lkdGg6IDEyMCwNCiAgICAgICAgQ2VsbDogZnVuY3Rpb24gKHJvdykgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgc3R5bGU6IHsNCiAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLA0KICAgICAgICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsDQogICAgICAgICAgICB9IH0sIHJvdy52YWx1ZSkpOyB9DQogICAgfSwNCiAgICB7DQogICAgICAgIEhlYWRlcjogJ9CSINC/0LDRgNC1JywNCiAgICAgICAgYWNjZXNzb3I6ICd0b3RhbF9tYXRjaGVkJywNCiAgICAgICAgQ2VsbDogY2VsbE1vbmV5LA0KICAgICAgICB3aWR0aDogNzAsDQogICAgfSwNCiAgICB7DQogICAgICAgIEhlYWRlcjogJ9Cd0LUg0LIg0L/QsNGA0LUnLA0KICAgICAgICBhY2Nlc3NvcjogJ3RvdGFsX2F2YWlsYWJsZScsDQogICAgICAgIENlbGw6IGNlbGxNb25leSwNCiAgICAgICAgd2lkdGg6IDcwLA0KICAgIH0sDQogICAgew0KICAgICAgICBIZWFkZXI6ICfQnzErJywNCiAgICAgICAgYWNjZXNzb3I6ICd3aW5fYmFjaycsDQogICAgICAgIENlbGw6IGNlbGxDb2VmZiwNCiAgICAgICAgd2lkdGg6IDcwLA0KICAgIH0sDQogICAgew0KICAgICAgICBIZWFkZXI6ICfQnzEtJywNCiAgICAgICAgYWNjZXNzb3I6ICd3aW5fbGF5JywNCiAgICAgICAgQ2VsbDogY2VsbENvZWZmLA0KICAgICAgICB3aWR0aDogNzAsDQogICAgfSwNCiAgICB7DQogICAgICAgIEhlYWRlcjogJ9CdKycsDQogICAgICAgIGFjY2Vzc29yOiAnZHJhd19iYWNrJywNCiAgICAgICAgQ2VsbDogY2VsbENvZWZmLA0KICAgICAgICB3aWR0aDogNzAsDQogICAgfSwNCiAgICB7DQogICAgICAgIEhlYWRlcjogJ9CdLScsDQogICAgICAgIGFjY2Vzc29yOiAnZHJhd19sYXknLA0KICAgICAgICBDZWxsOiBjZWxsQ29lZmYsDQogICAgICAgIHdpZHRoOiA3MCwNCiAgICB9LA0KICAgIHsNCiAgICAgICAgSGVhZGVyOiAn0J8rJywNCiAgICAgICAgYWNjZXNzb3I6ICd3aW5fYmFjaycsDQogICAgICAgIENlbGw6IGNlbGxDb2VmZiwNCiAgICAgICAgd2lkdGg6IDcwLA0KICAgIH0sDQogICAgew0KICAgICAgICBIZWFkZXI6ICfQnzItJywNCiAgICAgICAgYWNjZXNzb3I6ICdsb3NlX2JhY2snLA0KICAgICAgICBDZWxsOiBjZWxsQ29lZmYsDQogICAgICAgIHdpZHRoOiA3MCwNCiAgICB9LA0KICAgIHsNCiAgICAgICAgSGVhZGVyOiAn0J8yKycsDQogICAgICAgIGFjY2Vzc29yOiAnbG9zZV9sYXknLA0KICAgICAgICBDZWxsOiBjZWxsQ29lZmYsDQogICAgICAgIHdpZHRoOiA3MCwNCiAgICB9LA0KXTsNCnZhciBGb290YmFsbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsNCiAgICBfX2V4dGVuZHMoRm9vdGJhbGwsIF9zdXBlcik7DQogICAgZnVuY3Rpb24gRm9vdGJhbGwocHJvcHMpIHsNCiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7DQogICAgICAgIHZhciB4ID0gew0KICAgICAgICAgICAgd3M6IG5ldyByZWNvbm5lY3Rpbmd3ZWJzb2NrZXRfMS5kZWZhdWx0KHV0aWxzXzEud2ViU29ja2V0VVJMKCcvZm9vdGJhbGwnKSwgW10sIHsNCiAgICAgICAgICAgICAgICBkZWJ1ZzogdHJ1ZSwNCiAgICAgICAgICAgICAgICBhdXRvbWF0aWNPcGVuOiBmYWxzZSwNCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgZ2FtZXM6IFtdDQogICAgICAgIH07DQogICAgICAgIHgud3Mub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7DQogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldikgew0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgIHdzOiBwcmV2LndzLA0KICAgICAgICAgICAgICAgICAgICBnYW1lczogZ2FtZV8xLmFwcGx5X2dhbWVzX2NoYW5nZXMocHJldi5nYW1lcywgbmV3IGdhbWVfMS5HYW1lc0NoYW5nZXMoSlNPTi5wYXJzZShldmVudC5kYXRhKSkpLA0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfTsNCiAgICAgICAgeC53cy5vcGVuKCk7DQogICAgICAgIF90aGlzLnN0YXRlID0geDsNCiAgICAgICAgcmV0dXJuIF90aGlzOw0KICAgIH0NCiAgICBGb290YmFsbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgew0KICAgICAgICB2YXIgYm9yZGVyID0gJ3NvbGlkIDFweCAjYmFiYWJhJzsNCiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQocmVhY3RfdGFibGVfMS5kZWZhdWx0LCB7IGNvbHVtbnM6IGNvbHVtbnMsIGRhdGE6IHRoaXMuc3RhdGUuZ2FtZXMsIGdldFRyUHJvcHM6IGZ1bmN0aW9uIChmaW5hbFN0YXRlLCByb3dJbmZvKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IChyb3dJbmZvICYmIHJvd0luZm8udmlld0luZGV4ICUgMikgPyAiI2U0ZTRlNCIgOiB1bmRlZmluZWQNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICB9LCBnZXRUZFByb3BzOiBmdW5jdGlvbiAoZmluYWxTdGF0ZSwgcm93SW5mbywgY29sdW1uKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckxlZnQ6IGJvcmRlciwNCiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJpZ2h0OiBjb2x1bW4gJiYgY29sdW1uLmlkID09PSAnbG9zZV9sYXknID8gYm9yZGVyIDogdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyVG9wOiBib3JkZXIsDQogICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206IHJvd0luZm8gJiYgKHJvd0luZm8udmlld0luZGV4ID09PSByb3dJbmZvLnBhZ2VTaXplIC0gMSkgPyBib3JkZXIgOiB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMnB4IDRweCcsDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfSwgZ2V0VGhlYWRUaFByb3BzOiBmdW5jdGlvbiAoZmluYWxTdGF0ZSwgcm93SW5mbywgY29sdW1uKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclRvcDogYm9yZGVyLA0KICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyTGVmdDogYm9yZGVyLA0KICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmlnaHQ6IGNvbHVtbiAmJiBjb2x1bW4uaWQgPT09ICdsb3NlX2xheScgPyAnc29saWQgMXB4ICNiYWJhYmEnIDogdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzJweCA0cHgnLA0KICAgICAgICAgICAgICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfSwgZGVmYXVsdFBhZ2VTaXplOiAzNSwgcGFnZVNpemVPcHRpb25zOiBbMjAsIDM1LCA1MCwgdGhpcy5zdGF0ZS5nYW1lcy5sZW5ndGhdLCANCiAgICAgICAgICAgIC8vIFRleHQNCiAgICAgICAgICAgIHByZXZpb3VzVGV4dDogJ9Cf0YDQtdC00YvQtNGD0YnQuNC1JywgbmV4dFRleHQ6ICfQodC70LXQtNGD0Y7RidC40LUnLCBsb2FkaW5nVGV4dDogJ9CX0LDQs9GA0YPQt9C60LAg0LTQsNC90L3Ri9GFLi4uJywgbm9EYXRhVGV4dDogJ9Cd0LXRgiDRhNGD0YLQsdC+0LvRjNC90YvRhSDQuNCz0YAhJywgcGFnZVRleHQ6ICfQodGC0YDQsNC90LjRhtCwJywgb2ZUZXh0OiAn0LjQtycsIHJvd3NUZXh0OiAn0YHRgtGA0L7QuicgfSk7DQogICAgfTsNCiAgICByZXR1cm4gRm9vdGJhbGw7DQp9KFJlYWN0LkNvbXBvbmVudCkpOw0KZXhwb3J0cy5Gb290YmFsbCA9IEZvb3RiYWxsOw0KCgovKioqLyB9KSwKCi8qKiovICIuL3NyYy9jb21wb25lbnRzL0Zvb3RiYWxsL2dhbWUudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi9zcmMvY29tcG9uZW50cy9Gb290YmFsbC9nYW1lLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7Cg0KT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsNCnZhciBnb2xhbmdfdHlwZXNjcmlwdGlmeV9oZWxwZXJzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi91dGlscy9nb2xhbmdfdHlwZXNjcmlwdGlmeV9oZWxwZXJzICovICIuL3NyYy91dGlscy9nb2xhbmdfdHlwZXNjcmlwdGlmeV9oZWxwZXJzLnRzIik7DQovLyBzdHJ1Y3QydHM6Z2l0aHViLmNvbS9mcGF3ZWwvYmV0ZmFpcnMvZm9vdGJhbGwvZm9vdGJhbGwyLkdhbWUNCnZhciBHYW1lID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgew0KICAgIGZ1bmN0aW9uIEdhbWUoZGF0YSkgew0KICAgICAgICB2YXIgZCA9IChkYXRhICYmIHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JykgPyBnb2xhbmdfdHlwZXNjcmlwdGlmeV9oZWxwZXJzXzEuVG9PYmplY3QoZGF0YSkgOiB7fTsNCiAgICAgICAgdGhpcy5pZCA9ICgnaWQnIGluIGQpID8gZC5pZCA6IDA7DQogICAgICAgIHRoaXMub3JkZXIgPSAoJ29yZGVyJyBpbiBkKSA/IGQub3JkZXIgOiAwOw0KICAgICAgICB0aGlzLmhvbWUgPSAoJ2hvbWUnIGluIGQpID8gZC5ob21lIDogJyc7DQogICAgICAgIHRoaXMuYXdheSA9ICgnYXdheScgaW4gZCkgPyBkLmF3YXkgOiAnJzsNCiAgICAgICAgdGhpcy5zY29yZV9ob21lID0gKCdzY29yZV9ob21lJyBpbiBkKSA/IGQuc2NvcmVfaG9tZSA6IDA7DQogICAgICAgIHRoaXMuc2NvcmVfYXdheSA9ICgnc2NvcmVfYXdheScgaW4gZCkgPyBkLnNjb3JlX2F3YXkgOiAwOw0KICAgICAgICB0aGlzLmluX3BsYXkgPSAoJ2luX3BsYXknIGluIGQpID8gZC5pbl9wbGF5IDogZmFsc2U7DQogICAgICAgIHRoaXMudGltZSA9ICgndGltZScgaW4gZCkgPyBkLnRpbWUgOiAnJzsNCiAgICAgICAgdGhpcy5jb21wZXRpdGlvbiA9ICgnY29tcGV0aXRpb24nIGluIGQpID8gZC5jb21wZXRpdGlvbiA6ICcnOw0KICAgICAgICB0aGlzLmNvdW50cnkgPSAoJ2NvdW50cnknIGluIGQpID8gZC5jb3VudHJ5IDogJyc7DQogICAgICAgIHRoaXMub3Blbl9kYXRlID0gKCdvcGVuX2RhdGUnIGluIGQpID8gZ29sYW5nX3R5cGVzY3JpcHRpZnlfaGVscGVyc18xLlBhcnNlRGF0ZShkLm9wZW5fZGF0ZSkgOiBuZXcgRGF0ZSgpOw0KICAgICAgICB0aGlzLndpbl9iYWNrID0gKCd3aW5fYmFjaycgaW4gZCkgPyBkLndpbl9iYWNrIDogMDsNCiAgICAgICAgdGhpcy53aW5fbGF5ID0gKCd3aW5fbGF5JyBpbiBkKSA/IGQud2luX2xheSA6IDA7DQogICAgICAgIHRoaXMubG9zZV9iYWNrID0gKCdsb3NlX2JhY2snIGluIGQpID8gZC5sb3NlX2JhY2sgOiAwOw0KICAgICAgICB0aGlzLmxvc2VfbGF5ID0gKCdsb3NlX2xheScgaW4gZCkgPyBkLmxvc2VfbGF5IDogMDsNCiAgICAgICAgdGhpcy5kcmF3X2JhY2sgPSAoJ2RyYXdfYmFjaycgaW4gZCkgPyBkLmRyYXdfYmFjayA6IDA7DQogICAgICAgIHRoaXMuZHJhd19sYXkgPSAoJ2RyYXdfbGF5JyBpbiBkKSA/IGQuZHJhd19sYXkgOiAwOw0KICAgICAgICB0aGlzLnRvdGFsX21hdGNoZWQgPSAoJ3RvdGFsX21hdGNoZWQnIGluIGQpID8gZC50b3RhbF9tYXRjaGVkIDogMDsNCiAgICAgICAgdGhpcy50b3RhbF9hdmFpbGFibGUgPSAoJ3RvdGFsX2F2YWlsYWJsZScgaW4gZCkgPyBkLnRvdGFsX2F2YWlsYWJsZSA6IDA7DQogICAgICAgIHRoaXMuZXJyb3IgPSAoJ2Vycm9yJyBpbiBkKSA/IGQuZXJyb3IgOiAnJzsNCiAgICB9DQogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdhbWUucHJvdG90eXBlLCAiU2NvcmUiLCB7DQogICAgICAgIGdldDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5fcGxheSA/IHRoaXMuc2NvcmVfaG9tZSArICIgLSAiICsgdGhpcy5zY29yZV9hd2F5IDogJyc7DQogICAgICAgIH0sDQogICAgICAgIGVudW1lcmFibGU6IHRydWUsDQogICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQ0KICAgIH0pOw0KICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHYW1lLnByb3RvdHlwZSwgIk9yZGVyIiwgew0KICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLm9yZGVyICsgMTsNCiAgICAgICAgfSwNCiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwNCiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlDQogICAgfSk7DQogICAgR2FtZS5wcm90b3R5cGUudG9PYmplY3QgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgIHZhciBjZmcgPSB7fTsNCiAgICAgICAgY2ZnLmlkID0gJ251bWJlcic7DQogICAgICAgIGNmZy5vcmRlciA9ICdudW1iZXInOw0KICAgICAgICBjZmcuc2NvcmVfaG9tZSA9ICdudW1iZXInOw0KICAgICAgICBjZmcuc2NvcmVfYXdheSA9ICdudW1iZXInOw0KICAgICAgICBjZmcub3Blbl9kYXRlID0gJ3N0cmluZyc7DQogICAgICAgIGNmZy53aW5fYmFjayA9ICdudW1iZXInOw0KICAgICAgICBjZmcud2luX2xheSA9ICdudW1iZXInOw0KICAgICAgICBjZmcubG9zZV9iYWNrID0gJ251bWJlcic7DQogICAgICAgIGNmZy5sb3NlX2xheSA9ICdudW1iZXInOw0KICAgICAgICBjZmcuZHJhd19iYWNrID0gJ251bWJlcic7DQogICAgICAgIGNmZy5kcmF3X2xheSA9ICdudW1iZXInOw0KICAgICAgICBjZmcudG90YWxfbWF0Y2hlZCA9ICdudW1iZXInOw0KICAgICAgICBjZmcudG90YWxfYXZhaWxhYmxlID0gJ251bWJlcic7DQogICAgICAgIHJldHVybiBnb2xhbmdfdHlwZXNjcmlwdGlmeV9oZWxwZXJzXzEuVG9PYmplY3QodGhpcywgY2ZnKTsNCiAgICB9Ow0KICAgIEdhbWUucHJvdG90eXBlLmFwcGx5R2FtZUNoYW5nZXMgPSBmdW5jdGlvbiAoYSkgew0KICAgICAgICBpZiAoYS5vcmRlcikNCiAgICAgICAgICAgIHRoaXMub3JkZXIgPSBhLm9yZGVyOw0KICAgICAgICBpZiAoYS5zY29yZV9ob21lKQ0KICAgICAgICAgICAgdGhpcy5zY29yZV9ob21lID0gYS5zY29yZV9ob21lOw0KICAgICAgICBpZiAoYS5zY29yZV9hd2F5KQ0KICAgICAgICAgICAgdGhpcy5zY29yZV9hd2F5ID0gYS5zY29yZV9hd2F5Ow0KICAgICAgICBpZiAoYS5pbl9wbGF5KQ0KICAgICAgICAgICAgdGhpcy5pbl9wbGF5ID0gYS5pbl9wbGF5Ow0KICAgICAgICBpZiAoYS50aW1lKQ0KICAgICAgICAgICAgdGhpcy50aW1lID0gYS50aW1lOw0KICAgICAgICBpZiAoYS5jb21wZXRpdGlvbikNCiAgICAgICAgICAgIHRoaXMuY29tcGV0aXRpb24gPSBhLmNvbXBldGl0aW9uOw0KICAgICAgICBpZiAoYS5jb3VudHJ5KQ0KICAgICAgICAgICAgdGhpcy5jb3VudHJ5ID0gYS5jb3VudHJ5Ow0KICAgICAgICBpZiAoYS53aW5fYmFjaykNCiAgICAgICAgICAgIHRoaXMud2luX2JhY2sgPSBhLndpbl9iYWNrOw0KICAgICAgICBpZiAoYS53aW5fbGF5KQ0KICAgICAgICAgICAgdGhpcy53aW5fbGF5ID0gYS53aW5fbGF5Ow0KICAgICAgICBpZiAoYS5kcmF3X2JhY2spDQogICAgICAgICAgICB0aGlzLmRyYXdfYmFjayA9IGEuZHJhd19iYWNrOw0KICAgICAgICBpZiAoYS5kcmF3X2xheSkNCiAgICAgICAgICAgIHRoaXMuZHJhd19sYXkgPSBhLmRyYXdfbGF5Ow0KICAgICAgICBpZiAoYS5sb3NlX2JhY2spDQogICAgICAgICAgICB0aGlzLmxvc2VfYmFjayA9IGEubG9zZV9iYWNrOw0KICAgICAgICBpZiAoYS5sb3NlX2xheSkNCiAgICAgICAgICAgIHRoaXMubG9zZV9sYXkgPSBhLmxvc2VfbGF5Ow0KICAgICAgICBpZiAoYS50b3RhbF9tYXRjaGVkKQ0KICAgICAgICAgICAgdGhpcy50b3RhbF9tYXRjaGVkID0gYS50b3RhbF9tYXRjaGVkOw0KICAgICAgICBpZiAoYS50b3RhbF9hdmFpbGFibGUpDQogICAgICAgICAgICB0aGlzLnRvdGFsX2F2YWlsYWJsZSA9IGEudG90YWxfYXZhaWxhYmxlOw0KICAgICAgICBpZiAoYS5lcnJvcikNCiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBhLmVycm9yOw0KICAgIH07DQogICAgOw0KICAgIHJldHVybiBHYW1lOw0KfSgpKTsNCmV4cG9ydHMuR2FtZSA9IEdhbWU7DQovLyBzdHJ1Y3QydHM6Z2l0aHViLmNvbS9mcGF3ZWwvYmV0ZmFpcnMvZm9vdGJhbGwvZm9vdGJhbGwyLkdhbWVDaGFuZ2VzDQp2YXIgR2FtZUNoYW5nZXMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7DQogICAgZnVuY3Rpb24gR2FtZUNoYW5nZXMoZGF0YSkgew0KICAgICAgICB2YXIgZCA9IChkYXRhICYmIHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JykgPyBnb2xhbmdfdHlwZXNjcmlwdGlmeV9oZWxwZXJzXzEuVG9PYmplY3QoZGF0YSkgOiB7fTsNCiAgICAgICAgdGhpcy5pZCA9ICgnaWQnIGluIGQpID8gZC5pZCA6IDA7DQogICAgICAgIHRoaXMub3JkZXIgPSAoJ29yZGVyJyBpbiBkKSA/IGQub3JkZXIgOiBudWxsOw0KICAgICAgICB0aGlzLnNjb3JlX2hvbWUgPSAoJ3Njb3JlX2hvbWUnIGluIGQpID8gZC5zY29yZV9ob21lIDogbnVsbDsNCiAgICAgICAgdGhpcy5zY29yZV9hd2F5ID0gKCdzY29yZV9hd2F5JyBpbiBkKSA/IGQuc2NvcmVfYXdheSA6IG51bGw7DQogICAgICAgIHRoaXMuaW5fcGxheSA9ICgnaW5fcGxheScgaW4gZCkgPyBkLmluX3BsYXkgOiBudWxsOw0KICAgICAgICB0aGlzLnRpbWUgPSAoJ3RpbWUnIGluIGQpID8gZC50aW1lIDogbnVsbDsNCiAgICAgICAgdGhpcy5jb21wZXRpdGlvbiA9ICgnY29tcGV0aXRpb24nIGluIGQpID8gZC5jb21wZXRpdGlvbiA6IG51bGw7DQogICAgICAgIHRoaXMuY291bnRyeSA9ICgnY291bnRyeScgaW4gZCkgPyBkLmNvdW50cnkgOiBudWxsOw0KICAgICAgICB0aGlzLndpbl9iYWNrID0gKCd3aW5fYmFjaycgaW4gZCkgPyBkLndpbl9iYWNrIDogbnVsbDsNCiAgICAgICAgdGhpcy53aW5fbGF5ID0gKCd3aW5fbGF5JyBpbiBkKSA/IGQud2luX2xheSA6IG51bGw7DQogICAgICAgIHRoaXMuZHJhd19sYXkgPSAoJ2RyYXdfbGF5JyBpbiBkKSA/IGQuZHJhd19sYXkgOiBudWxsOw0KICAgICAgICB0aGlzLmRyYXdfYmFjayA9ICgnZHJhd19iYWNrJyBpbiBkKSA/IGQuZHJhd19iYWNrIDogbnVsbDsNCiAgICAgICAgdGhpcy5sb3NlX2xheSA9ICgnbG9zZV9sYXknIGluIGQpID8gZC5sb3NlX2xheSA6IG51bGw7DQogICAgICAgIHRoaXMubG9zZV9iYWNrID0gKCdsb3NlX2JhY2snIGluIGQpID8gZC5sb3NlX2JhY2sgOiBudWxsOw0KICAgICAgICB0aGlzLnRvdGFsX21hdGNoZWQgPSAoJ3RvdGFsX21hdGNoZWQnIGluIGQpID8gZC50b3RhbF9tYXRjaGVkIDogbnVsbDsNCiAgICAgICAgdGhpcy50b3RhbF9hdmFpbGFibGUgPSAoJ3RvdGFsX2F2YWlsYWJsZScgaW4gZCkgPyBkLnRvdGFsX2F2YWlsYWJsZSA6IG51bGw7DQogICAgICAgIHRoaXMuZXJyb3IgPSAoJ2Vycm9yJyBpbiBkKSA/IGQuZXJyb3IgOiBudWxsOw0KICAgIH0NCiAgICBHYW1lQ2hhbmdlcy5wcm90b3R5cGUudG9PYmplY3QgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgIHZhciBjZmcgPSB7fTsNCiAgICAgICAgY2ZnLmlkID0gJ251bWJlcic7DQogICAgICAgIGNmZy5vcmRlciA9ICdudW1iZXInOw0KICAgICAgICBjZmcuc2NvcmVfaG9tZSA9ICdudW1iZXInOw0KICAgICAgICBjZmcuc2NvcmVfYXdheSA9ICdudW1iZXInOw0KICAgICAgICBjZmcud2luX2JhY2sgPSAnbnVtYmVyJzsNCiAgICAgICAgY2ZnLndpbl9sYXkgPSAnbnVtYmVyJzsNCiAgICAgICAgY2ZnLmRyYXdfbGF5ID0gJ251bWJlcic7DQogICAgICAgIGNmZy5kcmF3X2JhY2sgPSAnbnVtYmVyJzsNCiAgICAgICAgY2ZnLmxvc2VfbGF5ID0gJ251bWJlcic7DQogICAgICAgIGNmZy5sb3NlX2JhY2sgPSAnbnVtYmVyJzsNCiAgICAgICAgY2ZnLnRvdGFsX21hdGNoZWQgPSAnbnVtYmVyJzsNCiAgICAgICAgY2ZnLnRvdGFsX2F2YWlsYWJsZSA9ICdudW1iZXInOw0KICAgICAgICByZXR1cm4gZ29sYW5nX3R5cGVzY3JpcHRpZnlfaGVscGVyc18xLlRvT2JqZWN0KHRoaXMsIGNmZyk7DQogICAgfTsNCiAgICByZXR1cm4gR2FtZUNoYW5nZXM7DQp9KCkpOw0KZXhwb3J0cy5HYW1lQ2hhbmdlcyA9IEdhbWVDaGFuZ2VzOw0KLy8gc3RydWN0MnRzOmdpdGh1Yi5jb20vZnBhd2VsL2JldGZhaXJzL2Zvb3RiYWxsL2Zvb3RiYWxsMi5HYW1lc0NoYW5nZXMNCnZhciBHYW1lc0NoYW5nZXMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7DQogICAgZnVuY3Rpb24gR2FtZXNDaGFuZ2VzKGRhdGEpIHsNCiAgICAgICAgdmFyIGQgPSAoZGF0YSAmJiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcpID8gZ29sYW5nX3R5cGVzY3JpcHRpZnlfaGVscGVyc18xLlRvT2JqZWN0KGRhdGEpIDoge307DQogICAgICAgIHRoaXMucmVzZXQgPSAoJ3Jlc2V0JyBpbiBkKSA/IGQucmVzZXQgOiBmYWxzZTsNCiAgICAgICAgdGhpcy5uZXcgPSBBcnJheS5pc0FycmF5KGQubmV3KSA/IGQubmV3Lm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IEdhbWUodik7IH0pIDogW107DQogICAgICAgIHRoaXMub3V0ID0gKCdvdXQnIGluIGQpID8gZC5vdXQgOiBbXTsNCiAgICAgICAgdGhpcy51cGQgPSBBcnJheS5pc0FycmF5KGQudXBkKSA/IGQudXBkLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IEdhbWVDaGFuZ2VzKHYpOyB9KSA6IFtdOw0KICAgIH0NCiAgICBHYW1lc0NoYW5nZXMucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gKCkgew0KICAgICAgICB2YXIgY2ZnID0ge307DQogICAgICAgIHJldHVybiBnb2xhbmdfdHlwZXNjcmlwdGlmeV9oZWxwZXJzXzEuVG9PYmplY3QodGhpcywgY2ZnKTsNCiAgICB9Ow0KICAgIHJldHVybiBHYW1lc0NoYW5nZXM7DQp9KCkpOw0KZXhwb3J0cy5HYW1lc0NoYW5nZXMgPSBHYW1lc0NoYW5nZXM7DQpmdW5jdGlvbiBhcHBseV9nYW1lc19jaGFuZ2VzKGdhbWVzLCBnYW1lc0NoYW5nZXMpIHsNCiAgICB2YXIgdSA9IGdldEdhbWVzQ2hhbmdlcyhnYW1lc0NoYW5nZXMpOw0KICAgIHZhciBuZXh0R2FtZXMgPSBnYW1lc0NoYW5nZXMubmV3Ow0KICAgIGdhbWVzLmZpbHRlcihmdW5jdGlvbiAoZ2FtZSkgew0KICAgICAgICByZXR1cm4gISh1Lm91dC5oYXMoZ2FtZS5pZCkgfHwgdS5uZXcuaGFzKGdhbWUuaWQpKTsNCiAgICB9KS5tYXAoZnVuY3Rpb24gKGdhbWUpIHsNCiAgICAgICAgdmFyIGdhbWVDaGFuZ2VzID0gdS51cGQuZ2V0KGdhbWUuaWQpOw0KICAgICAgICBpZiAoZ2FtZUNoYW5nZXMpIHsNCiAgICAgICAgICAgIGdhbWUuYXBwbHlHYW1lQ2hhbmdlcyhnYW1lQ2hhbmdlcyk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGdhbWU7DQogICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoZ2FtZSkgeyByZXR1cm4gbmV4dEdhbWVzLnB1c2goZ2FtZSk7IH0pOw0KICAgIG5leHRHYW1lcy5zb3J0KGZ1bmN0aW9uICh4LCB5KSB7IHJldHVybiB4Lm9yZGVyIC0geS5vcmRlcjsgfSk7DQogICAgdmFyIGlkX2dhbWUgPSBuZXcgTWFwKCk7DQogICAgZm9yICh2YXIgX2kgPSAwLCBuZXh0R2FtZXNfMSA9IG5leHRHYW1lczsgX2kgPCBuZXh0R2FtZXNfMS5sZW5ndGg7IF9pKyspIHsNCiAgICAgICAgdmFyIHggPSBuZXh0R2FtZXNfMVtfaV07DQogICAgICAgIHZhciB5ID0gaWRfZ2FtZS5nZXQoeC5pZCk7DQogICAgICAgIGlmICh5KSB7DQogICAgICAgICAgICB2YXIgZm9ybWF0R2FtZSA9IGZ1bmN0aW9uICh4KSB7IHJldHVybiAiJCIgKyB4Lm9yZGVyICsgIiAiICsgeC5ob21lICsgIiAiICsgeC5hd2F5OyB9Ow0KICAgICAgICAgICAgdGhyb3cgKCJBc3NlcnQgdW5pcXVlIGdhbWUgaWQ6ICIgKyBmb3JtYXRHYW1lKHgpICsgIiBhbmQgIiArIGZvcm1hdEdhbWUoeSkpOw0KICAgICAgICB9DQogICAgICAgIGlkX2dhbWUuc2V0KHguaWQsIHgpOw0KICAgIH0NCiAgICByZXR1cm4gbmV4dEdhbWVzOw0KfQ0KZXhwb3J0cy5hcHBseV9nYW1lc19jaGFuZ2VzID0gYXBwbHlfZ2FtZXNfY2hhbmdlczsNCmZ1bmN0aW9uIGdldEdhbWVzQ2hhbmdlcyh4KSB7DQogICAgdmFyIHIgPSB7DQogICAgICAgIG91dDogbmV3IFNldCgpLA0KICAgICAgICBuZXc6IG5ldyBNYXAoKSwNCiAgICAgICAgdXBkOiBuZXcgTWFwKCksDQogICAgfTsNCiAgICBpZiAoeC5vdXQpIHsNCiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHgub3V0OyBfaSA8IF9hLmxlbmd0aDsgX2krKykgew0KICAgICAgICAgICAgdmFyIHZhbHVlID0gX2FbX2ldOw0KICAgICAgICAgICAgci5vdXQuYWRkKHZhbHVlKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZiAoeC5uZXcpIHsNCiAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBfYyA9IHgubmV3OyBfYiA8IF9jLmxlbmd0aDsgX2IrKykgew0KICAgICAgICAgICAgdmFyIHZhbHVlID0gX2NbX2JdOw0KICAgICAgICAgICAgci5uZXcuc2V0KHZhbHVlLmlkLCB2YWx1ZSk7DQogICAgICAgIH0NCiAgICB9DQogICAgaWYgKHgudXBkKSB7DQogICAgICAgIGZvciAodmFyIF9kID0gMCwgX2UgPSB4LnVwZDsgX2QgPCBfZS5sZW5ndGg7IF9kKyspIHsNCiAgICAgICAgICAgIHZhciB2YWx1ZSA9IF9lW19kXTsNCiAgICAgICAgICAgIHIudXBkLnNldCh2YWx1ZS5pZCwgdmFsdWUpOw0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiByOw0KfQ0KCgovKioqLyB9KSwKCi8qKiovICIuL3NyYy9pbmRleC50c3giOgovKiEqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi9zcmMvaW5kZXgudHN4ICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7Cg0KdmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7DQogICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDsNCiAgICB2YXIgcmVzdWx0ID0ge307DQogICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTsNCiAgICByZXN1bHRbImRlZmF1bHQiXSA9IG1vZDsNCiAgICByZXR1cm4gcmVzdWx0Ow0KfTsNCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7DQp2YXIgUmVhY3QgPSBfX2ltcG9ydFN0YXIoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcmVhY3QgKi8gInJlYWN0IikpOw0KdmFyIFJlYWN0RE9NID0gX19pbXBvcnRTdGFyKF9fd2VicGFja19yZXF1aXJlX18oLyohIHJlYWN0LWRvbSAqLyAicmVhY3QtZG9tIikpOw0KdmFyIEZvb3RiYWxsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbXBvbmVudHMvRm9vdGJhbGwvRm9vdGJhbGwgKi8gIi4vc3JjL2NvbXBvbmVudHMvRm9vdGJhbGwvRm9vdGJhbGwudHN4Iik7DQpSZWFjdERPTS5yZW5kZXIoUmVhY3QuY3JlYXRlRWxlbWVudChGb290YmFsbF8xLkZvb3RiYWxsLCBudWxsKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFwcCIpKTsNCgoKLyoqKi8gfSksCgovKioqLyAiLi9zcmMvdXRpbHMvZ29sYW5nX3R5cGVzY3JpcHRpZnlfaGVscGVycy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi9zcmMvdXRpbHMvZ29sYW5nX3R5cGVzY3JpcHRpZnlfaGVscGVycy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKDQpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOw0KLy8gaGVscGVycw0KdmFyIG1heFVuaXhUU0luU2Vjb25kcyA9IDk5OTk5OTk5OTk7DQpleHBvcnRzLm1heFVuaXhUU0luU2Vjb25kcyA9IG1heFVuaXhUU0luU2Vjb25kczsNCmZ1bmN0aW9uIFBhcnNlRGF0ZShkKSB7DQogICAgaWYgKGQgaW5zdGFuY2VvZiBEYXRlKQ0KICAgICAgICByZXR1cm4gZDsNCiAgICBpZiAodHlwZW9mIGQgPT09ICdudW1iZXInKSB7DQogICAgICAgIGlmIChkID4gbWF4VW5peFRTSW5TZWNvbmRzKQ0KICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGQpOw0KICAgICAgICByZXR1cm4gbmV3IERhdGUoZCAqIDEwMDApOyAvLyBnbyB0cw0KICAgIH0NCiAgICByZXR1cm4gbmV3IERhdGUoZCk7DQp9DQpleHBvcnRzLlBhcnNlRGF0ZSA9IFBhcnNlRGF0ZTsNCmZ1bmN0aW9uIFBhcnNlTnVtYmVyKHYsIGlzSW50KSB7DQogICAgaWYgKGlzSW50ID09PSB2b2lkIDApIHsgaXNJbnQgPSBmYWxzZTsgfQ0KICAgIGlmICghdikNCiAgICAgICAgcmV0dXJuIDA7DQogICAgaWYgKHR5cGVvZiB2ID09PSAnbnVtYmVyJykNCiAgICAgICAgcmV0dXJuIHY7DQogICAgcmV0dXJuIChpc0ludCA/IHBhcnNlSW50KHYpIDogcGFyc2VGbG9hdCh2KSkgfHwgMDsNCn0NCmV4cG9ydHMuUGFyc2VOdW1iZXIgPSBQYXJzZU51bWJlcjsNCmZ1bmN0aW9uIEZyb21BcnJheShDdG9yLCBkYXRhLCBkZWYpIHsNCiAgICBpZiAoZGVmID09PSB2b2lkIDApIHsgZGVmID0gbnVsbDsgfQ0KICAgIGlmICghZGF0YSB8fCAhT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoKQ0KICAgICAgICByZXR1cm4gZGVmOw0KICAgIHZhciBkID0gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbZGF0YV07DQogICAgcmV0dXJuIGQubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgQ3Rvcih2KTsgfSk7DQp9DQpleHBvcnRzLkZyb21BcnJheSA9IEZyb21BcnJheTsNCmZ1bmN0aW9uIFRvT2JqZWN0KG8sIHR5cGVPckNmZywgY2hpbGQpIHsNCiAgICBpZiAodHlwZU9yQ2ZnID09PSB2b2lkIDApIHsgdHlwZU9yQ2ZnID0ge307IH0NCiAgICBpZiAoY2hpbGQgPT09IHZvaWQgMCkgeyBjaGlsZCA9IGZhbHNlOyB9DQogICAgaWYgKCFvKQ0KICAgICAgICByZXR1cm4gbnVsbDsNCiAgICBpZiAodHlwZW9mIG8udG9PYmplY3QgPT09ICdmdW5jdGlvbicgJiYgY2hpbGQpDQogICAgICAgIHJldHVybiBvLnRvT2JqZWN0KCk7DQogICAgc3dpdGNoICh0eXBlb2Ygbykgew0KICAgICAgICBjYXNlICdzdHJpbmcnOg0KICAgICAgICAgICAgcmV0dXJuIHR5cGVPckNmZyA9PT0gJ251bWJlcicgPyBQYXJzZU51bWJlcihvKSA6IG87DQogICAgICAgIGNhc2UgJ2Jvb2xlYW4nOg0KICAgICAgICBjYXNlICdudW1iZXInOg0KICAgICAgICAgICAgcmV0dXJuIG87DQogICAgfQ0KICAgIGlmIChvIGluc3RhbmNlb2YgRGF0ZSkgew0KICAgICAgICByZXR1cm4gdHlwZU9yQ2ZnID09PSAnc3RyaW5nJyA/IG8udG9JU09TdHJpbmcoKSA6IE1hdGguZmxvb3Ioby5nZXRUaW1lKCkgLyAxMDAwKTsNCiAgICB9DQogICAgaWYgKEFycmF5LmlzQXJyYXkobykpDQogICAgICAgIHJldHVybiBvLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gVG9PYmplY3QodiwgdHlwZU9yQ2ZnLCB0cnVlKTsgfSk7DQogICAgdmFyIGQgPSB7fTsNCiAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMobyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7DQogICAgICAgIHZhciBrID0gX2FbX2ldOw0KICAgICAgICB2YXIgdiA9IG9ba107DQogICAgICAgIGlmICghdikNCiAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICBkW2tdID0gVG9PYmplY3QodiwgdHlwZU9yQ2ZnW2tdIHx8IHt9LCB0cnVlKTsNCiAgICB9DQogICAgcmV0dXJuIGQ7DQp9DQpleHBvcnRzLlRvT2JqZWN0ID0gVG9PYmplY3Q7DQovL2ltcG9ydCB7bWF4VW5peFRTSW5TZWNvbmRzLCBQYXJzZURhdGUsIFBhcnNlTnVtYmVyLCBGcm9tQXJyYXksIFRvT2JqZWN0fSBmcm9tICIuL2dvbGFuZ190eXBlc2NyaXB0aWZ5X2hlbHBlcnMiOw0KCgovKioqLyB9KSwKCi8qKiovICIuL3NyYy91dGlscy91dGlscy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vc3JjL3V0aWxzL3V0aWxzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKDQpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOw0KZnVuY3Rpb24gd2ViU29ja2V0VVJMKHVyaSkgew0KICAgIHZhciBwcm90byA9IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sLnJlcGxhY2UoImh0dHAiLCAid3MiKTsNCiAgICByZXR1cm4gcHJvdG8gKyAiLy8iICsgZG9jdW1lbnQubG9jYXRpb24uaG9zdCArIHVyaTsNCn0NCmV4cG9ydHMud2ViU29ja2V0VVJMID0gd2ViU29ja2V0VVJMOw0KCgovKioqLyB9KSwKCi8qKiovIDA6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiBtdWx0aSAuL3NyYy9pbmRleC50c3ggKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvaW5kZXgudHN4ICovIi4vc3JjL2luZGV4LnRzeCIpOwoKCi8qKiovIH0pLAoKLyoqKi8gInJlYWN0IjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiBleHRlcm5hbCAiUmVhY3QiICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKbW9kdWxlLmV4cG9ydHMgPSBSZWFjdDsKCi8qKiovIH0pLAoKLyoqKi8gInJlYWN0LWRvbSI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogZXh0ZXJuYWwgIlJlYWN0RE9NIiAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCm1vZHVsZS5leHBvcnRzID0gUmVhY3RET007CgovKioqLyB9KSwKCi8qKiovICJyZWFjdC10YWJsZSI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiBleHRlcm5hbCAiUmVhY3RUYWJsZSIgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHsKCm1vZHVsZS5leHBvcnRzID0gUmVhY3RUYWJsZTsKCi8qKiovIH0pCgovKioqKioqLyB9KTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFpbi5qcy5tYXA=\"")
		packr.PackJSONBytes("./../../../../../../Frontend/betfairf/dist", "scripts/main.js.map", "\"eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlY29ubmVjdGluZ3dlYnNvY2tldC9yZWNvbm5lY3Rpbmctd2Vic29ja2V0LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0Zvb3RiYWxsL0Zvb3RiYWxsLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Gb290YmFsbC9nYW1lLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2dvbGFuZ190eXBlc2NyaXB0aWZ5X2hlbHBlcnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL3V0aWxzLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcIlJlYWN0XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiUmVhY3RET01cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJSZWFjdFRhYmxlXCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0RBQTBDLGdDQUFnQztBQUMxRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdFQUF3RCxrQkFBa0I7QUFDMUU7QUFDQSx5REFBaUQsY0FBYztBQUMvRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQXlDLGlDQUFpQztBQUMxRSx3SEFBZ0gsbUJBQW1CLEVBQUU7QUFDckk7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBMkIsMEJBQTBCLEVBQUU7QUFDdkQseUNBQWlDLGVBQWU7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQXNELCtEQUErRDs7QUFFckg7QUFDQTs7O0FBR0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDbEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsdUNBQXVDO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQSxLQUFLLFFBSUw7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsY0FBYzs7QUFFckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnRkFBZ0Y7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNB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Ozs7Ozs7Ozs7Ozs7QUNoRWpILHNCQUE4QixHQUFZO0lBQ3RDLElBQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDL0QsT0FBVSxLQUFLLFVBQUssUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEdBQUcsR0FBSyxDQUFDO0FBQ3ZELENBQUM7QUFIRCxvQ0FHQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSEQsdUI7Ozs7Ozs7Ozs7O0FDQUEsMEI7Ozs7Ozs7Ozs7O0FDQUEsNEIiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIi8vIE1JVCBMaWNlbnNlOlxuLy9cbi8vIENvcHlyaWdodCAoYykgMjAxMC0yMDEyLCBKb2UgV2FsbmVzXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuLy8gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuLy8gaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuLy8gdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuLy8gY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4vLyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4vLyBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4vLyBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbi8vIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuLy8gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuLy8gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbi8vIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbi8vIFRIRSBTT0ZUV0FSRS5cblxuLyoqXG4gKiBUaGlzIGJlaGF2ZXMgbGlrZSBhIFdlYlNvY2tldCBpbiBldmVyeSB3YXksIGV4Y2VwdCBpZiBpdCBmYWlscyB0byBjb25uZWN0LFxuICogb3IgaXQgZ2V0cyBkaXNjb25uZWN0ZWQsIGl0IHdpbGwgcmVwZWF0ZWRseSBwb2xsIHVudGlsIGl0IHN1Y2Nlc3NmdWxseSBjb25uZWN0c1xuICogYWdhaW4uXG4gKlxuICogSXQgaXMgQVBJIGNvbXBhdGlibGUsIHNvIHdoZW4geW91IGhhdmU6XG4gKiAgIHdzID0gbmV3IFdlYlNvY2tldCgnd3M6Ly8uLi4uJyk7XG4gKiB5b3UgY2FuIHJlcGxhY2Ugd2l0aDpcbiAqICAgd3MgPSBuZXcgUmVjb25uZWN0aW5nV2ViU29ja2V0KCd3czovLy4uLi4nKTtcbiAqXG4gKiBUaGUgZXZlbnQgc3RyZWFtIHdpbGwgdHlwaWNhbGx5IGxvb2sgbGlrZTpcbiAqICBvbmNvbm5lY3RpbmdcbiAqICBvbm9wZW5cbiAqICBvbm1lc3NhZ2VcbiAqICBvbm1lc3NhZ2VcbiAqICBvbmNsb3NlIC8vIGxvc3QgY29ubmVjdGlvblxuICogIG9uY29ubmVjdGluZ1xuICogIG9ub3BlbiAgLy8gc29tZXRpbWUgbGF0ZXIuLi5cbiAqICBvbm1lc3NhZ2VcbiAqICBvbm1lc3NhZ2VcbiAqICBldGMuLi5cbiAqXG4gKiBJdCBpcyBBUEkgY29tcGF0aWJsZSB3aXRoIHRoZSBzdGFuZGFyZCBXZWJTb2NrZXQgQVBJLCBhcGFydCBmcm9tIHRoZSBmb2xsb3dpbmcgbWVtYmVyczpcbiAqXG4gKiAtIGBidWZmZXJlZEFtb3VudGBcbiAqIC0gYGV4dGVuc2lvbnNgXG4gKiAtIGBiaW5hcnlUeXBlYFxuICpcbiAqIExhdGVzdCB2ZXJzaW9uOiBodHRwczovL2dpdGh1Yi5jb20vam9ld2FsbmVzL3JlY29ubmVjdGluZy13ZWJzb2NrZXQvXG4gKiAtIEpvZSBXYWxuZXNcbiAqXG4gKiBTeW50YXhcbiAqID09PT09PVxuICogdmFyIHNvY2tldCA9IG5ldyBSZWNvbm5lY3RpbmdXZWJTb2NrZXQodXJsLCBwcm90b2NvbHMsIG9wdGlvbnMpO1xuICpcbiAqIFBhcmFtZXRlcnNcbiAqID09PT09PT09PT1cbiAqIHVybCAtIFRoZSB1cmwgeW91IGFyZSBjb25uZWN0aW5nIHRvLlxuICogcHJvdG9jb2xzIC0gT3B0aW9uYWwgc3RyaW5nIG9yIGFycmF5IG9mIHByb3RvY29scy5cbiAqIG9wdGlvbnMgLSBTZWUgYmVsb3dcbiAqXG4gKiBPcHRpb25zXG4gKiA9PT09PT09XG4gKiBPcHRpb25zIGNhbiBlaXRoZXIgYmUgcGFzc2VkIHVwb24gaW5zdGFudGlhdGlvbiBvciBzZXQgYWZ0ZXIgaW5zdGFudGlhdGlvbjpcbiAqXG4gKiB2YXIgc29ja2V0ID0gbmV3IFJlY29ubmVjdGluZ1dlYlNvY2tldCh1cmwsIG51bGwsIHsgZGVidWc6IHRydWUsIHJlY29ubmVjdEludGVydmFsOiA0MDAwIH0pO1xuICpcbiAqIG9yXG4gKlxuICogdmFyIHNvY2tldCA9IG5ldyBSZWNvbm5lY3RpbmdXZWJTb2NrZXQodXJsKTtcbiAqIHNvY2tldC5kZWJ1ZyA9IHRydWU7XG4gKiBzb2NrZXQucmVjb25uZWN0SW50ZXJ2YWwgPSA0MDAwO1xuICpcbiAqIGRlYnVnXG4gKiAtIFdoZXRoZXIgdGhpcyBpbnN0YW5jZSBzaG91bGQgbG9nIGRlYnVnIG1lc3NhZ2VzLiBBY2NlcHRzIHRydWUgb3IgZmFsc2UuIERlZmF1bHQ6IGZhbHNlLlxuICpcbiAqIGF1dG9tYXRpY09wZW5cbiAqIC0gV2hldGhlciBvciBub3QgdGhlIHdlYnNvY2tldCBzaG91bGQgYXR0ZW1wdCB0byBjb25uZWN0IGltbWVkaWF0ZWx5IHVwb24gaW5zdGFudGlhdGlvbi4gVGhlIHNvY2tldCBjYW4gYmUgbWFudWFsbHkgb3BlbmVkIG9yIGNsb3NlZCBhdCBhbnkgdGltZSB1c2luZyB3cy5vcGVuKCkgYW5kIHdzLmNsb3NlKCkuXG4gKlxuICogcmVjb25uZWN0SW50ZXJ2YWxcbiAqIC0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgYmVmb3JlIGF0dGVtcHRpbmcgdG8gcmVjb25uZWN0LiBBY2NlcHRzIGludGVnZXIuIERlZmF1bHQ6IDEwMDAuXG4gKlxuICogbWF4UmVjb25uZWN0SW50ZXJ2YWxcbiAqIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBhIHJlY29ubmVjdGlvbiBhdHRlbXB0LiBBY2NlcHRzIGludGVnZXIuIERlZmF1bHQ6IDMwMDAwLlxuICpcbiAqIHJlY29ubmVjdERlY2F5XG4gKiAtIFRoZSByYXRlIG9mIGluY3JlYXNlIG9mIHRoZSByZWNvbm5lY3QgZGVsYXkuIEFsbG93cyByZWNvbm5lY3QgYXR0ZW1wdHMgdG8gYmFjayBvZmYgd2hlbiBwcm9ibGVtcyBwZXJzaXN0LiBBY2NlcHRzIGludGVnZXIgb3IgZmxvYXQuIERlZmF1bHQ6IDEuNS5cbiAqXG4gKiB0aW1lb3V0SW50ZXJ2YWxcbiAqIC0gVGhlIG1heGltdW0gdGltZSBpbiBtaWxsaXNlY29uZHMgdG8gd2FpdCBmb3IgYSBjb25uZWN0aW9uIHRvIHN1Y2NlZWQgYmVmb3JlIGNsb3NpbmcgYW5kIHJldHJ5aW5nLiBBY2NlcHRzIGludGVnZXIuIERlZmF1bHQ6IDIwMDAuXG4gKlxuICovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKXtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2xvYmFsLlJlY29ubmVjdGluZ1dlYlNvY2tldCA9IGZhY3RvcnkoKTtcbiAgICB9XG59KSh0aGlzLCBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAoISgnV2ViU29ja2V0JyBpbiB3aW5kb3cpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBSZWNvbm5lY3RpbmdXZWJTb2NrZXQodXJsLCBwcm90b2NvbHMsIG9wdGlvbnMpIHtcblxuICAgICAgICAvLyBEZWZhdWx0IHNldHRpbmdzXG4gICAgICAgIHZhciBzZXR0aW5ncyA9IHtcblxuICAgICAgICAgICAgLyoqIFdoZXRoZXIgdGhpcyBpbnN0YW5jZSBzaG91bGQgbG9nIGRlYnVnIG1lc3NhZ2VzLiAqL1xuICAgICAgICAgICAgZGVidWc6IGZhbHNlLFxuXG4gICAgICAgICAgICAvKiogV2hldGhlciBvciBub3QgdGhlIHdlYnNvY2tldCBzaG91bGQgYXR0ZW1wdCB0byBjb25uZWN0IGltbWVkaWF0ZWx5IHVwb24gaW5zdGFudGlhdGlvbi4gKi9cbiAgICAgICAgICAgIGF1dG9tYXRpY09wZW46IHRydWUsXG5cbiAgICAgICAgICAgIC8qKiBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBiZWZvcmUgYXR0ZW1wdGluZyB0byByZWNvbm5lY3QuICovXG4gICAgICAgICAgICByZWNvbm5lY3RJbnRlcnZhbDogMTAwMCxcbiAgICAgICAgICAgIC8qKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGEgcmVjb25uZWN0aW9uIGF0dGVtcHQuICovXG4gICAgICAgICAgICBtYXhSZWNvbm5lY3RJbnRlcnZhbDogMzAwMDAsXG4gICAgICAgICAgICAvKiogVGhlIHJhdGUgb2YgaW5jcmVhc2Ugb2YgdGhlIHJlY29ubmVjdCBkZWxheS4gQWxsb3dzIHJlY29ubmVjdCBhdHRlbXB0cyB0byBiYWNrIG9mZiB3aGVuIHByb2JsZW1zIHBlcnNpc3QuICovXG4gICAgICAgICAgICByZWNvbm5lY3REZWNheTogMS41LFxuXG4gICAgICAgICAgICAvKiogVGhlIG1heGltdW0gdGltZSBpbiBtaWxsaXNlY29uZHMgdG8gd2FpdCBmb3IgYSBjb25uZWN0aW9uIHRvIHN1Y2NlZWQgYmVmb3JlIGNsb3NpbmcgYW5kIHJldHJ5aW5nLiAqL1xuICAgICAgICAgICAgdGltZW91dEludGVydmFsOiAyMDAwLFxuXG4gICAgICAgICAgICAvKiogVGhlIG1heGltdW0gbnVtYmVyIG9mIHJlY29ubmVjdGlvbiBhdHRlbXB0cyB0byBtYWtlLiBVbmxpbWl0ZWQgaWYgbnVsbC4gKi9cbiAgICAgICAgICAgIG1heFJlY29ubmVjdEF0dGVtcHRzOiBudWxsXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcHRpb25zKSB7IG9wdGlvbnMgPSB7fTsgfVxuXG4gICAgICAgIC8vIE92ZXJ3cml0ZSBhbmQgZGVmaW5lIHNldHRpbmdzIHdpdGggb3B0aW9ucyBpZiB0aGV5IGV4aXN0LlxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc2V0dGluZ3MpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uc1trZXldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHRoaXNba2V5XSA9IG9wdGlvbnNba2V5XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpc1trZXldID0gc2V0dGluZ3Nba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZXNlIHNob3VsZCBiZSB0cmVhdGVkIGFzIHJlYWQtb25seSBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLyoqIFRoZSBVUkwgYXMgcmVzb2x2ZWQgYnkgdGhlIGNvbnN0cnVjdG9yLiBUaGlzIGlzIGFsd2F5cyBhbiBhYnNvbHV0ZSBVUkwuIFJlYWQgb25seS4gKi9cbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG5cbiAgICAgICAgLyoqIFRoZSBudW1iZXIgb2YgYXR0ZW1wdGVkIHJlY29ubmVjdHMgc2luY2Ugc3RhcnRpbmcsIG9yIHRoZSBsYXN0IHN1Y2Nlc3NmdWwgY29ubmVjdGlvbi4gUmVhZCBvbmx5LiAqL1xuICAgICAgICB0aGlzLnJlY29ubmVjdEF0dGVtcHRzID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGNvbm5lY3Rpb24uXG4gICAgICAgICAqIENhbiBiZSBvbmUgb2Y6IFdlYlNvY2tldC5DT05ORUNUSU5HLCBXZWJTb2NrZXQuT1BFTiwgV2ViU29ja2V0LkNMT1NJTkcsIFdlYlNvY2tldC5DTE9TRURcbiAgICAgICAgICogUmVhZCBvbmx5LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gV2ViU29ja2V0LkNPTk5FQ1RJTkc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgc3RyaW5nIGluZGljYXRpbmcgdGhlIG5hbWUgb2YgdGhlIHN1Yi1wcm90b2NvbCB0aGUgc2VydmVyIHNlbGVjdGVkOyB0aGlzIHdpbGwgYmUgb25lIG9mXG4gICAgICAgICAqIHRoZSBzdHJpbmdzIHNwZWNpZmllZCBpbiB0aGUgcHJvdG9jb2xzIHBhcmFtZXRlciB3aGVuIGNyZWF0aW5nIHRoZSBXZWJTb2NrZXQgb2JqZWN0LlxuICAgICAgICAgKiBSZWFkIG9ubHkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb3RvY29sID0gbnVsbDtcblxuICAgICAgICAvLyBQcml2YXRlIHN0YXRlIHZhcmlhYmxlc1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHdzO1xuICAgICAgICB2YXIgZm9yY2VkQ2xvc2UgPSBmYWxzZTtcbiAgICAgICAgdmFyIHRpbWVkT3V0ID0gZmFsc2U7XG4gICAgICAgIHZhciBldmVudFRhcmdldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIC8vIFdpcmUgdXAgXCJvbipcIiBwcm9wZXJ0aWVzIGFzIGV2ZW50IGhhbmRsZXJzXG5cbiAgICAgICAgZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsICAgICAgIGZ1bmN0aW9uKGV2ZW50KSB7IHNlbGYub25vcGVuKGV2ZW50KTsgfSk7XG4gICAgICAgIGV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgICAgICBmdW5jdGlvbihldmVudCkgeyBzZWxmLm9uY2xvc2UoZXZlbnQpOyB9KTtcbiAgICAgICAgZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignY29ubmVjdGluZycsIGZ1bmN0aW9uKGV2ZW50KSB7IHNlbGYub25jb25uZWN0aW5nKGV2ZW50KTsgfSk7XG4gICAgICAgIGV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAgICBmdW5jdGlvbihldmVudCkgeyBzZWxmLm9ubWVzc2FnZShldmVudCk7IH0pO1xuICAgICAgICBldmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsICAgICAgZnVuY3Rpb24oZXZlbnQpIHsgc2VsZi5vbmVycm9yKGV2ZW50KTsgfSk7XG5cbiAgICAgICAgLy8gRXhwb3NlIHRoZSBBUEkgcmVxdWlyZWQgYnkgRXZlbnRUYXJnZXRcblxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIgPSBldmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyLmJpbmQoZXZlbnRUYXJnZXQpO1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBldmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyLmJpbmQoZXZlbnRUYXJnZXQpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQgPSBldmVudFRhcmdldC5kaXNwYXRjaEV2ZW50LmJpbmQoZXZlbnRUYXJnZXQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGZ1bmN0aW9uIGdlbmVyYXRlcyBhbiBldmVudCB0aGF0IGlzIGNvbXBhdGlibGUgd2l0aCBzdGFuZGFyZFxuICAgICAgICAgKiBjb21wbGlhbnQgYnJvd3NlcnMgYW5kIElFOSAtIElFMTFcbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyB3aWxsIHByZXZlbnQgdGhlIGVycm9yOlxuICAgICAgICAgKiBPYmplY3QgZG9lc24ndCBzdXBwb3J0IHRoaXMgYWN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTkzNDUzOTIvd2h5LWFyZW50LW15LXBhcmFtZXRlcnMtZ2V0dGluZy1wYXNzZWQtdGhyb3VnaC10by1hLWRpc3BhdGNoZWQtZXZlbnQvMTkzNDU1NjMjMTkzNDU1NjNcbiAgICAgICAgICogQHBhcmFtIHMgU3RyaW5nIFRoZSBuYW1lIHRoYXQgdGhlIGV2ZW50IHNob3VsZCB1c2VcbiAgICAgICAgICogQHBhcmFtIGFyZ3MgT2JqZWN0IGFuIG9wdGlvbmFsIG9iamVjdCB0aGF0IHRoZSBldmVudCB3aWxsIHVzZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVFdmVudChzLCBhcmdzKSB7XG4gICAgICAgIFx0dmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7XG4gICAgICAgIFx0ZXZ0LmluaXRDdXN0b21FdmVudChzLCBmYWxzZSwgZmFsc2UsIGFyZ3MpO1xuICAgICAgICBcdHJldHVybiBldnQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5vcGVuID0gZnVuY3Rpb24gKHJlY29ubmVjdEF0dGVtcHQpIHtcbiAgICAgICAgICAgIHdzID0gbmV3IFdlYlNvY2tldChzZWxmLnVybCwgcHJvdG9jb2xzIHx8IFtdKTtcblxuICAgICAgICAgICAgaWYgKHJlY29ubmVjdEF0dGVtcHQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXhSZWNvbm5lY3RBdHRlbXB0cyAmJiB0aGlzLnJlY29ubmVjdEF0dGVtcHRzID4gdGhpcy5tYXhSZWNvbm5lY3RBdHRlbXB0cykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBldmVudFRhcmdldC5kaXNwYXRjaEV2ZW50KGdlbmVyYXRlRXZlbnQoJ2Nvbm5lY3RpbmcnKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cyA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzZWxmLmRlYnVnIHx8IFJlY29ubmVjdGluZ1dlYlNvY2tldC5kZWJ1Z0FsbCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1JlY29ubmVjdGluZ1dlYlNvY2tldCcsICdhdHRlbXB0LWNvbm5lY3QnLCBzZWxmLnVybCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBsb2NhbFdzID0gd3M7XG4gICAgICAgICAgICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuZGVidWcgfHwgUmVjb25uZWN0aW5nV2ViU29ja2V0LmRlYnVnQWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1JlY29ubmVjdGluZ1dlYlNvY2tldCcsICdjb25uZWN0aW9uLXRpbWVvdXQnLCBzZWxmLnVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRpbWVkT3V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsb2NhbFdzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgdGltZWRPdXQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sIHNlbGYudGltZW91dEludGVydmFsKTtcblxuICAgICAgICAgICAgd3Mub25vcGVuID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuZGVidWcgfHwgUmVjb25uZWN0aW5nV2ViU29ja2V0LmRlYnVnQWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1JlY29ubmVjdGluZ1dlYlNvY2tldCcsICdvbm9wZW4nLCBzZWxmLnVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlbGYucHJvdG9jb2wgPSB3cy5wcm90b2NvbDtcbiAgICAgICAgICAgICAgICBzZWxmLnJlYWR5U3RhdGUgPSBXZWJTb2NrZXQuT1BFTjtcbiAgICAgICAgICAgICAgICBzZWxmLnJlY29ubmVjdEF0dGVtcHRzID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgZSA9IGdlbmVyYXRlRXZlbnQoJ29wZW4nKTtcbiAgICAgICAgICAgICAgICBlLmlzUmVjb25uZWN0ID0gcmVjb25uZWN0QXR0ZW1wdDtcbiAgICAgICAgICAgICAgICByZWNvbm5lY3RBdHRlbXB0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZXZlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudChlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHdzLm9uY2xvc2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICB3cyA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGZvcmNlZENsb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVhZHlTdGF0ZSA9IFdlYlNvY2tldC5DTE9TRUQ7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VGFyZ2V0LmRpc3BhdGNoRXZlbnQoZ2VuZXJhdGVFdmVudCgnY2xvc2UnKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWFkeVN0YXRlID0gV2ViU29ja2V0LkNPTk5FQ1RJTkc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gZ2VuZXJhdGVFdmVudCgnY29ubmVjdGluZycpO1xuICAgICAgICAgICAgICAgICAgICBlLmNvZGUgPSBldmVudC5jb2RlO1xuICAgICAgICAgICAgICAgICAgICBlLnJlYXNvbiA9IGV2ZW50LnJlYXNvbjtcbiAgICAgICAgICAgICAgICAgICAgZS53YXNDbGVhbiA9IGV2ZW50Lndhc0NsZWFuO1xuICAgICAgICAgICAgICAgICAgICBldmVudFRhcmdldC5kaXNwYXRjaEV2ZW50KGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlY29ubmVjdEF0dGVtcHQgJiYgIXRpbWVkT3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5kZWJ1ZyB8fCBSZWNvbm5lY3RpbmdXZWJTb2NrZXQuZGVidWdBbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdSZWNvbm5lY3RpbmdXZWJTb2NrZXQnLCAnb25jbG9zZScsIHNlbGYudXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VGFyZ2V0LmRpc3BhdGNoRXZlbnQoZ2VuZXJhdGVFdmVudCgnY2xvc2UnKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZW91dCA9IHNlbGYucmVjb25uZWN0SW50ZXJ2YWwgKiBNYXRoLnBvdyhzZWxmLnJlY29ubmVjdERlY2F5LCBzZWxmLnJlY29ubmVjdEF0dGVtcHRzKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjb25uZWN0QXR0ZW1wdHMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub3Blbih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgdGltZW91dCA+IHNlbGYubWF4UmVjb25uZWN0SW50ZXJ2YWwgPyBzZWxmLm1heFJlY29ubmVjdEludGVydmFsIDogdGltZW91dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdzLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuZGVidWcgfHwgUmVjb25uZWN0aW5nV2ViU29ja2V0LmRlYnVnQWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1JlY29ubmVjdGluZ1dlYlNvY2tldCcsICdvbm1lc3NhZ2UnLCBzZWxmLnVybCwgZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBlID0gZ2VuZXJhdGVFdmVudCgnbWVzc2FnZScpO1xuICAgICAgICAgICAgICAgIGUuZGF0YSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICAgICAgZXZlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudChlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3cy5vbmVycm9yID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5kZWJ1ZyB8fCBSZWNvbm5lY3RpbmdXZWJTb2NrZXQuZGVidWdBbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnUmVjb25uZWN0aW5nV2ViU29ja2V0JywgJ29uZXJyb3InLCBzZWxmLnVybCwgZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBldmVudFRhcmdldC5kaXNwYXRjaEV2ZW50KGdlbmVyYXRlRXZlbnQoJ2Vycm9yJykpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdoZXRoZXIgb3Igbm90IHRvIGNyZWF0ZSBhIHdlYnNvY2tldCB1cG9uIGluc3RhbnRpYXRpb25cbiAgICAgICAgaWYgKHRoaXMuYXV0b21hdGljT3BlbiA9PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW4oZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYW5zbWl0cyBkYXRhIHRvIHRoZSBzZXJ2ZXIgb3ZlciB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBkYXRhIGEgdGV4dCBzdHJpbmcsIEFycmF5QnVmZmVyIG9yIEJsb2IgdG8gc2VuZCB0byB0aGUgc2VydmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZW5kID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgaWYgKHdzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuZGVidWcgfHwgUmVjb25uZWN0aW5nV2ViU29ja2V0LmRlYnVnQWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1JlY29ubmVjdGluZ1dlYlNvY2tldCcsICdzZW5kJywgc2VsZi51cmwsIGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gd3Muc2VuZChkYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgJ0lOVkFMSURfU1RBVEVfRVJSIDogUGF1c2luZyB0byByZWNvbm5lY3Qgd2Vic29ja2V0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2xvc2VzIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbiBvciBjb25uZWN0aW9uIGF0dGVtcHQsIGlmIGFueS5cbiAgICAgICAgICogSWYgdGhlIGNvbm5lY3Rpb24gaXMgYWxyZWFkeSBDTE9TRUQsIHRoaXMgbWV0aG9kIGRvZXMgbm90aGluZy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xvc2UgPSBmdW5jdGlvbihjb2RlLCByZWFzb24pIHtcbiAgICAgICAgICAgIC8vIERlZmF1bHQgQ0xPU0VfTk9STUFMIGNvZGVcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29kZSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGNvZGUgPSAxMDAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yY2VkQ2xvc2UgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHdzKSB7XG4gICAgICAgICAgICAgICAgd3MuY2xvc2UoY29kZSwgcmVhc29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkaXRpb25hbCBwdWJsaWMgQVBJIG1ldGhvZCB0byByZWZyZXNoIHRoZSBjb25uZWN0aW9uIGlmIHN0aWxsIG9wZW4gKGNsb3NlLCByZS1vcGVuKS5cbiAgICAgICAgICogRm9yIGV4YW1wbGUsIGlmIHRoZSBhcHAgc3VzcGVjdHMgYmFkIGRhdGEgLyBtaXNzZWQgaGVhcnQgYmVhdHMsIGl0IGNhbiB0cnkgdG8gcmVmcmVzaC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVmcmVzaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHdzKSB7XG4gICAgICAgICAgICAgICAgd3MuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbiBldmVudCBsaXN0ZW5lciB0byBiZSBjYWxsZWQgd2hlbiB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb24ncyByZWFkeVN0YXRlIGNoYW5nZXMgdG8gT1BFTjtcbiAgICAgKiB0aGlzIGluZGljYXRlcyB0aGF0IHRoZSBjb25uZWN0aW9uIGlzIHJlYWR5IHRvIHNlbmQgYW5kIHJlY2VpdmUgZGF0YS5cbiAgICAgKi9cbiAgICBSZWNvbm5lY3RpbmdXZWJTb2NrZXQucHJvdG90eXBlLm9ub3BlbiA9IGZ1bmN0aW9uKGV2ZW50KSB7fTtcbiAgICAvKiogQW4gZXZlbnQgbGlzdGVuZXIgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uJ3MgcmVhZHlTdGF0ZSBjaGFuZ2VzIHRvIENMT1NFRC4gKi9cbiAgICBSZWNvbm5lY3RpbmdXZWJTb2NrZXQucHJvdG90eXBlLm9uY2xvc2UgPSBmdW5jdGlvbihldmVudCkge307XG4gICAgLyoqIEFuIGV2ZW50IGxpc3RlbmVyIHRvIGJlIGNhbGxlZCB3aGVuIGEgY29ubmVjdGlvbiBiZWdpbnMgYmVpbmcgYXR0ZW1wdGVkLiAqL1xuICAgIFJlY29ubmVjdGluZ1dlYlNvY2tldC5wcm90b3R5cGUub25jb25uZWN0aW5nID0gZnVuY3Rpb24oZXZlbnQpIHt9O1xuICAgIC8qKiBBbiBldmVudCBsaXN0ZW5lciB0byBiZSBjYWxsZWQgd2hlbiBhIG1lc3NhZ2UgaXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyLiAqL1xuICAgIFJlY29ubmVjdGluZ1dlYlNvY2tldC5wcm90b3R5cGUub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHt9O1xuICAgIC8qKiBBbiBldmVudCBsaXN0ZW5lciB0byBiZSBjYWxsZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMuICovXG4gICAgUmVjb25uZWN0aW5nV2ViU29ja2V0LnByb3RvdHlwZS5vbmVycm9yID0gZnVuY3Rpb24oZXZlbnQpIHt9O1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBhbGwgaW5zdGFuY2VzIG9mIFJlY29ubmVjdGluZ1dlYlNvY2tldCBzaG91bGQgbG9nIGRlYnVnIG1lc3NhZ2VzLlxuICAgICAqIFNldHRpbmcgdGhpcyB0byB0cnVlIGlzIHRoZSBlcXVpdmFsZW50IG9mIHNldHRpbmcgYWxsIGluc3RhbmNlcyBvZiBSZWNvbm5lY3RpbmdXZWJTb2NrZXQuZGVidWcgdG8gdHJ1ZS5cbiAgICAgKi9cbiAgICBSZWNvbm5lY3RpbmdXZWJTb2NrZXQuZGVidWdBbGwgPSBmYWxzZTtcblxuICAgIFJlY29ubmVjdGluZ1dlYlNvY2tldC5DT05ORUNUSU5HID0gV2ViU29ja2V0LkNPTk5FQ1RJTkc7XG4gICAgUmVjb25uZWN0aW5nV2ViU29ja2V0Lk9QRU4gPSBXZWJTb2NrZXQuT1BFTjtcbiAgICBSZWNvbm5lY3RpbmdXZWJTb2NrZXQuQ0xPU0lORyA9IFdlYlNvY2tldC5DTE9TSU5HO1xuICAgIFJlY29ubmVjdGluZ1dlYlNvY2tldC5DTE9TRUQgPSBXZWJTb2NrZXQuQ0xPU0VEO1xuXG4gICAgcmV0dXJuIFJlY29ubmVjdGluZ1dlYlNvY2tldDtcbn0pO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7YXBwbHlfZ2FtZXNfY2hhbmdlcywgR2FtZSwgR2FtZXNDaGFuZ2VzfSBmcm9tIFwiLi9nYW1lXCI7XHJcbmltcG9ydCBSZWNvbm5lY3RpbmdXZWJTb2NrZXQgZnJvbSBcInJlY29ubmVjdGluZ3dlYnNvY2tldFwiO1xyXG5pbXBvcnQge3dlYlNvY2tldFVSTH0gZnJvbSBcIi4uLy4uL3V0aWxzL3V0aWxzXCI7XHJcbmltcG9ydCBSZWFjdFRhYmxlLCB7UmVzaXplLCBSb3dJbmZvfSBmcm9tICdyZWFjdC10YWJsZSc7XHJcbmltcG9ydCB7Q29sdW1uLCBUYWJsZUNlbGxSZW5kZXJlcn0gZnJvbSAncmVhY3QtdGFibGUnO1xyXG5cclxuaW50ZXJmYWNlIHN0YXRlIHtcclxuICAgIHdzIDogUmVjb25uZWN0aW5nV2ViU29ja2V0LFxyXG4gICAgZ2FtZXMgOiBHYW1lIFtdXHJcbn1cclxuXHJcbmNvbnN0IGNlbGxNb25leSA6IFRhYmxlQ2VsbFJlbmRlcmVyID0gcm93ID0+IChcclxuICAgIDxkaXYgc3R5bGU9e3tcclxuICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgIGZvbnRTdHlsZTogJ2l0YWxpYycsXHJcbiAgICAgICAgdGV4dEFsaWduOiAncmlnaHQnLFxyXG4gICAgfX0+XHJcbiAgICAgICAge3Jvdy52YWx1ZSA/IHJvdy52YWx1ZSA6ICcnfSB7cm93LnZhbHVlID8gJyQnIDogJyd9XHJcbiAgICA8L2Rpdj5cclxuKTtcclxuXHJcbmNvbnN0IGNlbGxDb2VmZiA6IFRhYmxlQ2VsbFJlbmRlcmVyID0gcm93ID0+IChcclxuICAgIDxkaXYgc3R5bGU9e3tcclxuICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgIHRleHRBbGlnbjogJ3JpZ2h0JyxcclxuICAgIH19PlxyXG4gICAgICAgIHtyb3cudmFsdWUgPyByb3cudmFsdWUgOiAnJ31cclxuICAgIDwvZGl2PlxyXG4pO1xyXG5cclxuY29uc3QgY29sdW1ucyA6IENvbHVtbltdID0gW1xyXG4gICAge1xyXG4gICAgICAgIEhlYWRlcjon4oSWJyxcclxuICAgICAgICBhY2Nlc3NvcjonT3JkZXInLFxyXG4gICAgICAgIHdpZHRoIDogNDAsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIEhlYWRlcjon0JTQvtC80LAnLFxyXG4gICAgICAgIGFjY2Vzc29yOidob21lJyxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgSGVhZGVyOifQodGH0ZHRgicsXHJcbiAgICAgICAgYWNjZXNzb3I6J1Njb3JlJyxcclxuICAgICAgICB3aWR0aCA6IDcwLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBIZWFkZXI6J9CSINCz0L7RgdGC0Y/RhScsXHJcbiAgICAgICAgYWNjZXNzb3I6J2F3YXknLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBIZWFkZXI6J9CS0YDQtdC80Y8nLFxyXG4gICAgICAgIGFjY2Vzc29yOid0aW1lJyxcclxuICAgICAgICB3aWR0aCA6IDEzMCxcclxuICAgICAgICBDZWxsOiByb3cgPT4gKFxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogJ2l0YWxpYycsXHJcbiAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAge3Jvdy52YWx1ZX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBIZWFkZXI6J9Cn0LXQvNC/0LjQvtC90LDRgicsXHJcbiAgICAgICAgYWNjZXNzb3I6J2NvbXBldGl0aW9uJyxcclxuICAgICAgICB3aWR0aCA6IDIwMCxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgSGVhZGVyOifQodGC0YDQsNC90LAnLFxyXG4gICAgICAgIGFjY2Vzc29yOidjb3VudHJ5JyxcclxuICAgICAgICB3aWR0aCA6IDEyMCxcclxuICAgICAgICBDZWxsOiByb3cgPT4gKFxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICB7cm93LnZhbHVlfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIEhlYWRlcjon0JIg0L/QsNGA0LUnLFxyXG4gICAgICAgIGFjY2Vzc29yOid0b3RhbF9tYXRjaGVkJyxcclxuICAgICAgICBDZWxsOiBjZWxsTW9uZXksXHJcbiAgICAgICAgd2lkdGggOiA3MCxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgSGVhZGVyOifQndC1INCyINC/0LDRgNC1JyxcclxuICAgICAgICBhY2Nlc3NvcjondG90YWxfYXZhaWxhYmxlJyxcclxuICAgICAgICBDZWxsOiBjZWxsTW9uZXksXHJcbiAgICAgICAgd2lkdGggOiA3MCxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgSGVhZGVyOifQnzErJyxcclxuICAgICAgICBhY2Nlc3Nvcjond2luX2JhY2snLFxyXG4gICAgICAgIENlbGw6IGNlbGxDb2VmZixcclxuICAgICAgICB3aWR0aCA6IDcwLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBIZWFkZXI6J9CfMS0nLFxyXG4gICAgICAgIGFjY2Vzc29yOid3aW5fbGF5JyxcclxuICAgICAgICBDZWxsOiBjZWxsQ29lZmYsXHJcbiAgICAgICAgd2lkdGggOiA3MCxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgSGVhZGVyOifQnSsnLFxyXG4gICAgICAgIGFjY2Vzc29yOidkcmF3X2JhY2snLFxyXG4gICAgICAgIENlbGw6IGNlbGxDb2VmZixcclxuICAgICAgICB3aWR0aCA6IDcwLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBIZWFkZXI6J9CdLScsXHJcbiAgICAgICAgYWNjZXNzb3I6J2RyYXdfbGF5JyxcclxuICAgICAgICBDZWxsOiBjZWxsQ29lZmYsXHJcbiAgICAgICAgd2lkdGggOiA3MCxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgSGVhZGVyOifQnysnLFxyXG4gICAgICAgIGFjY2Vzc29yOid3aW5fYmFjaycsXHJcbiAgICAgICAgQ2VsbDogY2VsbENvZWZmLFxyXG4gICAgICAgIHdpZHRoIDogNzAsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIEhlYWRlcjon0J8yLScsXHJcbiAgICAgICAgYWNjZXNzb3I6J2xvc2VfYmFjaycsXHJcbiAgICAgICAgQ2VsbDogY2VsbENvZWZmLFxyXG4gICAgICAgIHdpZHRoIDogNzAsXHJcbiAgICB9LFxyXG5cclxuICAgIHtcclxuICAgICAgICBIZWFkZXI6J9CfMisnLFxyXG4gICAgICAgIGFjY2Vzc29yOidsb3NlX2xheScsXHJcbiAgICAgICAgQ2VsbDogY2VsbENvZWZmLFxyXG4gICAgICAgIHdpZHRoIDogNzAsXHJcbiAgICB9LFxyXG5dO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgRm9vdGJhbGwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8e30sIHN0YXRlPiB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJvcHM6e30pe1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICBsZXQgeCA9IHtcclxuICAgICAgICAgICAgd3MgOiBuZXcgUmVjb25uZWN0aW5nV2ViU29ja2V0KHdlYlNvY2tldFVSTCgnL2Zvb3RiYWxsJyksIFtdLCB7XHJcbiAgICAgICAgICAgICAgICBkZWJ1ZzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGF1dG9tYXRpY09wZW46IGZhbHNlLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgZ2FtZXMgOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgeC53cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSggKHByZXYpIDogc3RhdGUgPT57XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHdzOnByZXYud3MsXHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZXM6YXBwbHlfZ2FtZXNfY2hhbmdlcyhwcmV2LmdhbWVzLCBuZXcgR2FtZXNDaGFuZ2VzKEpTT04ucGFyc2UoZXZlbnQuZGF0YSkpKSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHgud3Mub3BlbigpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB4O1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCBib3JkZXIgPSAnc29saWQgMXB4ICNiYWJhYmEnO1xyXG4gICAgICAgIHJldHVybiA8UmVhY3RUYWJsZVxyXG4gICAgICAgICAgICBjb2x1bW5zPXtjb2x1bW5zfVxyXG4gICAgICAgICAgICBkYXRhPXt0aGlzLnN0YXRlLmdhbWVzfVxyXG4gICAgICAgICAgICBnZXRUclByb3BzID0geyhmaW5hbFN0YXRlOiBhbnksIHJvd0luZm8/OiBSb3dJbmZvKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IChyb3dJbmZvICYmIHJvd0luZm8udmlld0luZGV4ICUgMiApID8gXCIjZTRlNGU0XCIgOiB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgZ2V0VGRQcm9wcyA9IHsoZmluYWxTdGF0ZTogYW55LCByb3dJbmZvPzogUm93SW5mbywgY29sdW1uPzogQ29sdW1uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckxlZnQ6Ym9yZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSaWdodDogY29sdW1uICYmIGNvbHVtbi5pZCA9PT0gJ2xvc2VfbGF5JyA/IGJvcmRlciA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyVG9wOmJvcmRlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiByb3dJbmZvICYmIChyb3dJbmZvLnZpZXdJbmRleCA9PT0gcm93SW5mby5wYWdlU2l6ZS0xKSA/IGJvcmRlciA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzonMnB4IDRweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIGdldFRoZWFkVGhQcm9wcyA9IHsoZmluYWxTdGF0ZTogYW55LCByb3dJbmZvPzogUm93SW5mbywgY29sdW1uPzogQ29sdW1uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclRvcDpib3JkZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckxlZnQ6Ym9yZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSaWdodDogY29sdW1uICYmIGNvbHVtbi5pZCA9PT0gJ2xvc2VfbGF5JyA/ICdzb2xpZCAxcHggI2JhYmFiYScgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6JzJweCA0cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U3R5bGU6J2JvbGQnLFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBkZWZhdWx0UGFnZVNpemU9ezM1fVxyXG4gICAgICAgICAgICBwYWdlU2l6ZU9wdGlvbnMgPSB7IFsyMCwgMzUsIDUwLCB0aGlzLnN0YXRlLmdhbWVzLmxlbmd0aF0gfVxyXG4gICAgICAgICAgICAvLyBUZXh0XHJcbiAgICAgICAgICAgIHByZXZpb3VzVGV4dCA9IHsn0J/RgNC10LTRi9C00YPRidC40LUnfVxyXG4gICAgICAgICAgICBuZXh0VGV4dCA9IHsn0KHQu9C10LTRg9GO0YnQuNC1J31cclxuICAgICAgICAgICAgbG9hZGluZ1RleHQgPSB7ICfQl9Cw0LPRgNGD0LfQutCwINC00LDQvdC90YvRhS4uLicgfVxyXG4gICAgICAgICAgICBub0RhdGFUZXh0ID0geyfQndC10YIg0YTRg9GC0LHQvtC70YzQvdGL0YUg0LjQs9GAISd9XHJcbiAgICAgICAgICAgIHBhZ2VUZXh0ID0geyfQodGC0YDQsNC90LjRhtCwJ31cclxuICAgICAgICAgICAgb2ZUZXh0ID0geyfQuNC3J31cclxuICAgICAgICAgICAgcm93c1RleHQgPSB7J9GB0YLRgNC+0LonfVxyXG4gICAgICAgIC8+O1xyXG4gICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQge1BhcnNlRGF0ZSwgVG9PYmplY3R9IGZyb20gXCIuLi8uLi91dGlscy9nb2xhbmdfdHlwZXNjcmlwdGlmeV9oZWxwZXJzXCI7XG5cbi8vIHN0cnVjdDJ0czpnaXRodWIuY29tL2ZwYXdlbC9iZXRmYWlycy9mb290YmFsbC9mb290YmFsbDIuR2FtZVxuZXhwb3J0IGNsYXNzIEdhbWUge1xuICAgIGlkOiBudW1iZXI7XG4gICAgb3JkZXI6IG51bWJlcjtcbiAgICBob21lOiBzdHJpbmc7XG4gICAgYXdheTogc3RyaW5nO1xuICAgIHNjb3JlX2hvbWU6IG51bWJlcjtcbiAgICBzY29yZV9hd2F5OiBudW1iZXI7XG4gICAgaW5fcGxheTogYm9vbGVhbjtcbiAgICB0aW1lOiBzdHJpbmc7XG4gICAgY29tcGV0aXRpb246IHN0cmluZztcbiAgICBjb3VudHJ5OiBzdHJpbmc7XG4gICAgb3Blbl9kYXRlOiBEYXRlO1xuICAgIHdpbl9iYWNrOiBudW1iZXI7XG4gICAgd2luX2xheTogbnVtYmVyO1xuICAgIGxvc2VfYmFjazogbnVtYmVyO1xuICAgIGxvc2VfbGF5OiBudW1iZXI7XG4gICAgZHJhd19iYWNrOiBudW1iZXI7XG4gICAgZHJhd19sYXk6IG51bWJlcjtcbiAgICB0b3RhbF9tYXRjaGVkOiBudW1iZXI7XG4gICAgdG90YWxfYXZhaWxhYmxlOiBudW1iZXI7XG4gICAgZXJyb3I6IHN0cmluZztcblxuICAgIGdldCBTY29yZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5pbl9wbGF5ID8gYCR7dGhpcy5zY29yZV9ob21lfSAtICR7dGhpcy5zY29yZV9hd2F5fWAgOiAnJztcbiAgICB9XG5cbiAgICBnZXQgT3JkZXIoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JkZXIgKyAxO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKGRhdGE/OiBhbnkpIHtcblxuICAgICAgICBjb25zdCBkOiBhbnkgPSAoZGF0YSAmJiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcpID8gVG9PYmplY3QoZGF0YSkgOiB7fTtcbiAgICAgICAgdGhpcy5pZCA9ICgnaWQnIGluIGQpID8gZC5pZCBhcyBudW1iZXIgOiAwO1xuICAgICAgICB0aGlzLm9yZGVyID0gKCdvcmRlcicgaW4gZCkgPyBkLm9yZGVyIGFzIG51bWJlciA6IDA7XG4gICAgICAgIHRoaXMuaG9tZSA9ICgnaG9tZScgaW4gZCkgPyBkLmhvbWUgYXMgc3RyaW5nIDogJyc7XG4gICAgICAgIHRoaXMuYXdheSA9ICgnYXdheScgaW4gZCkgPyBkLmF3YXkgYXMgc3RyaW5nIDogJyc7XG4gICAgICAgIHRoaXMuc2NvcmVfaG9tZSA9ICgnc2NvcmVfaG9tZScgaW4gZCkgPyBkLnNjb3JlX2hvbWUgYXMgbnVtYmVyIDogMDtcbiAgICAgICAgdGhpcy5zY29yZV9hd2F5ID0gKCdzY29yZV9hd2F5JyBpbiBkKSA/IGQuc2NvcmVfYXdheSBhcyBudW1iZXIgOiAwO1xuICAgICAgICB0aGlzLmluX3BsYXkgPSAoJ2luX3BsYXknIGluIGQpID8gZC5pbl9wbGF5IGFzIGJvb2xlYW4gOiBmYWxzZTtcbiAgICAgICAgdGhpcy50aW1lID0gKCd0aW1lJyBpbiBkKSA/IGQudGltZSBhcyBzdHJpbmcgOiAnJztcbiAgICAgICAgdGhpcy5jb21wZXRpdGlvbiA9ICgnY29tcGV0aXRpb24nIGluIGQpID8gZC5jb21wZXRpdGlvbiBhcyBzdHJpbmcgOiAnJztcbiAgICAgICAgdGhpcy5jb3VudHJ5ID0gKCdjb3VudHJ5JyBpbiBkKSA/IGQuY291bnRyeSBhcyBzdHJpbmcgOiAnJztcbiAgICAgICAgdGhpcy5vcGVuX2RhdGUgPSAoJ29wZW5fZGF0ZScgaW4gZCkgPyBQYXJzZURhdGUoZC5vcGVuX2RhdGUpIDogbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy53aW5fYmFjayA9ICgnd2luX2JhY2snIGluIGQpID8gZC53aW5fYmFjayBhcyBudW1iZXIgOiAwO1xuICAgICAgICB0aGlzLndpbl9sYXkgPSAoJ3dpbl9sYXknIGluIGQpID8gZC53aW5fbGF5IGFzIG51bWJlciA6IDA7XG4gICAgICAgIHRoaXMubG9zZV9iYWNrID0gKCdsb3NlX2JhY2snIGluIGQpID8gZC5sb3NlX2JhY2sgYXMgbnVtYmVyIDogMDtcbiAgICAgICAgdGhpcy5sb3NlX2xheSA9ICgnbG9zZV9sYXknIGluIGQpID8gZC5sb3NlX2xheSBhcyBudW1iZXIgOiAwO1xuICAgICAgICB0aGlzLmRyYXdfYmFjayA9ICgnZHJhd19iYWNrJyBpbiBkKSA/IGQuZHJhd19iYWNrIGFzIG51bWJlciA6IDA7XG4gICAgICAgIHRoaXMuZHJhd19sYXkgPSAoJ2RyYXdfbGF5JyBpbiBkKSA/IGQuZHJhd19sYXkgYXMgbnVtYmVyIDogMDtcbiAgICAgICAgdGhpcy50b3RhbF9tYXRjaGVkID0gKCd0b3RhbF9tYXRjaGVkJyBpbiBkKSA/IGQudG90YWxfbWF0Y2hlZCBhcyBudW1iZXIgOiAwO1xuICAgICAgICB0aGlzLnRvdGFsX2F2YWlsYWJsZSA9ICgndG90YWxfYXZhaWxhYmxlJyBpbiBkKSA/IGQudG90YWxfYXZhaWxhYmxlIGFzIG51bWJlciA6IDA7XG4gICAgICAgIHRoaXMuZXJyb3IgPSAoJ2Vycm9yJyBpbiBkKSA/IGQuZXJyb3IgYXMgc3RyaW5nIDogJyc7XG4gICAgfVxuXG4gICAgdG9PYmplY3QoKTogYW55IHtcbiAgICAgICAgY29uc3QgY2ZnOiBhbnkgPSB7fTtcbiAgICAgICAgY2ZnLmlkID0gJ251bWJlcic7XG4gICAgICAgIGNmZy5vcmRlciA9ICdudW1iZXInO1xuICAgICAgICBjZmcuc2NvcmVfaG9tZSA9ICdudW1iZXInO1xuICAgICAgICBjZmcuc2NvcmVfYXdheSA9ICdudW1iZXInO1xuICAgICAgICBjZmcub3Blbl9kYXRlID0gJ3N0cmluZyc7XG4gICAgICAgIGNmZy53aW5fYmFjayA9ICdudW1iZXInO1xuICAgICAgICBjZmcud2luX2xheSA9ICdudW1iZXInO1xuICAgICAgICBjZmcubG9zZV9iYWNrID0gJ251bWJlcic7XG4gICAgICAgIGNmZy5sb3NlX2xheSA9ICdudW1iZXInO1xuICAgICAgICBjZmcuZHJhd19iYWNrID0gJ251bWJlcic7XG4gICAgICAgIGNmZy5kcmF3X2xheSA9ICdudW1iZXInO1xuICAgICAgICBjZmcudG90YWxfbWF0Y2hlZCA9ICdudW1iZXInO1xuICAgICAgICBjZmcudG90YWxfYXZhaWxhYmxlID0gJ251bWJlcic7XG4gICAgICAgIHJldHVybiBUb09iamVjdCh0aGlzLCBjZmcpO1xuICAgIH1cblxuICAgIGFwcGx5R2FtZUNoYW5nZXMoYTogR2FtZUNoYW5nZXMpIHtcbiAgICAgICAgaWYgKGEub3JkZXIpXG4gICAgICAgICAgICB0aGlzLm9yZGVyID0gYS5vcmRlcjtcbiAgICAgICAgaWYgKGEuc2NvcmVfaG9tZSlcbiAgICAgICAgICAgIHRoaXMuc2NvcmVfaG9tZSA9IGEuc2NvcmVfaG9tZTtcbiAgICAgICAgaWYgKGEuc2NvcmVfYXdheSlcbiAgICAgICAgICAgIHRoaXMuc2NvcmVfYXdheSA9IGEuc2NvcmVfYXdheTtcbiAgICAgICAgaWYgKGEuaW5fcGxheSlcbiAgICAgICAgICAgIHRoaXMuaW5fcGxheSA9IGEuaW5fcGxheTtcbiAgICAgICAgaWYgKGEudGltZSlcbiAgICAgICAgICAgIHRoaXMudGltZSA9IGEudGltZTtcbiAgICAgICAgaWYgKGEuY29tcGV0aXRpb24pXG4gICAgICAgICAgICB0aGlzLmNvbXBldGl0aW9uID0gYS5jb21wZXRpdGlvbjtcbiAgICAgICAgaWYgKGEuY291bnRyeSlcbiAgICAgICAgICAgIHRoaXMuY291bnRyeSA9IGEuY291bnRyeTtcbiAgICAgICAgaWYgKGEud2luX2JhY2spXG4gICAgICAgICAgICB0aGlzLndpbl9iYWNrID0gYS53aW5fYmFjaztcbiAgICAgICAgaWYgKGEud2luX2xheSlcbiAgICAgICAgICAgIHRoaXMud2luX2xheSA9IGEud2luX2xheTtcbiAgICAgICAgaWYgKGEuZHJhd19iYWNrKVxuICAgICAgICAgICAgdGhpcy5kcmF3X2JhY2sgPSBhLmRyYXdfYmFjaztcbiAgICAgICAgaWYgKGEuZHJhd19sYXkpXG4gICAgICAgICAgICB0aGlzLmRyYXdfbGF5ID0gYS5kcmF3X2xheTtcbiAgICAgICAgaWYgKGEubG9zZV9iYWNrKVxuICAgICAgICAgICAgdGhpcy5sb3NlX2JhY2sgPSBhLmxvc2VfYmFjaztcbiAgICAgICAgaWYgKGEubG9zZV9sYXkpXG4gICAgICAgICAgICB0aGlzLmxvc2VfbGF5ID0gYS5sb3NlX2xheTtcbiAgICAgICAgaWYgKGEudG90YWxfbWF0Y2hlZClcbiAgICAgICAgICAgIHRoaXMudG90YWxfbWF0Y2hlZCA9IGEudG90YWxfbWF0Y2hlZDtcbiAgICAgICAgaWYgKGEudG90YWxfYXZhaWxhYmxlKVxuICAgICAgICAgICAgdGhpcy50b3RhbF9hdmFpbGFibGUgPSBhLnRvdGFsX2F2YWlsYWJsZTtcbiAgICAgICAgaWYgKGEuZXJyb3IpXG4gICAgICAgICAgICB0aGlzLmVycm9yID0gYS5lcnJvcjtcbiAgICB9O1xufVxuXG5cbi8vIHN0cnVjdDJ0czpnaXRodWIuY29tL2ZwYXdlbC9iZXRmYWlycy9mb290YmFsbC9mb290YmFsbDIuR2FtZUNoYW5nZXNcbmV4cG9ydCBjbGFzcyBHYW1lQ2hhbmdlcyB7XG4gICAgaWQ6IG51bWJlcjtcbiAgICBvcmRlcjogbnVtYmVyIHwgbnVsbDtcbiAgICBzY29yZV9ob21lOiBudW1iZXIgfCBudWxsO1xuICAgIHNjb3JlX2F3YXk6IG51bWJlciB8IG51bGw7XG4gICAgaW5fcGxheTogYm9vbGVhbiB8IG51bGw7XG4gICAgdGltZTogc3RyaW5nIHwgbnVsbDtcbiAgICBjb21wZXRpdGlvbjogc3RyaW5nIHwgbnVsbDtcbiAgICBjb3VudHJ5OiBzdHJpbmcgfCBudWxsO1xuICAgIHdpbl9iYWNrOiBudW1iZXIgfCBudWxsO1xuICAgIHdpbl9sYXk6IG51bWJlciB8IG51bGw7XG4gICAgZHJhd19sYXk6IG51bWJlciB8IG51bGw7XG4gICAgZHJhd19iYWNrOiBudW1iZXIgfCBudWxsO1xuICAgIGxvc2VfbGF5OiBudW1iZXIgfCBudWxsO1xuICAgIGxvc2VfYmFjazogbnVtYmVyIHwgbnVsbDtcbiAgICB0b3RhbF9tYXRjaGVkOiBudW1iZXIgfCBudWxsO1xuICAgIHRvdGFsX2F2YWlsYWJsZTogbnVtYmVyIHwgbnVsbDtcbiAgICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKGRhdGE/OiBhbnkpIHtcbiAgICAgICAgY29uc3QgZDogYW55ID0gKGRhdGEgJiYgdHlwZW9mIGRhdGEgPT09ICdvYmplY3QnKSA/IFRvT2JqZWN0KGRhdGEpIDoge307XG4gICAgICAgIHRoaXMuaWQgPSAoJ2lkJyBpbiBkKSA/IGQuaWQgYXMgbnVtYmVyIDogMDtcbiAgICAgICAgdGhpcy5vcmRlciA9ICgnb3JkZXInIGluIGQpID8gZC5vcmRlciBhcyBudW1iZXIgOiBudWxsO1xuICAgICAgICB0aGlzLnNjb3JlX2hvbWUgPSAoJ3Njb3JlX2hvbWUnIGluIGQpID8gZC5zY29yZV9ob21lIGFzIG51bWJlciA6IG51bGw7XG4gICAgICAgIHRoaXMuc2NvcmVfYXdheSA9ICgnc2NvcmVfYXdheScgaW4gZCkgPyBkLnNjb3JlX2F3YXkgYXMgbnVtYmVyIDogbnVsbDtcbiAgICAgICAgdGhpcy5pbl9wbGF5ID0gKCdpbl9wbGF5JyBpbiBkKSA/IGQuaW5fcGxheSBhcyBib29sZWFuIDogbnVsbDtcbiAgICAgICAgdGhpcy50aW1lID0gKCd0aW1lJyBpbiBkKSA/IGQudGltZSBhcyBzdHJpbmcgOiBudWxsO1xuICAgICAgICB0aGlzLmNvbXBldGl0aW9uID0gKCdjb21wZXRpdGlvbicgaW4gZCkgPyBkLmNvbXBldGl0aW9uIGFzIHN0cmluZyA6IG51bGw7XG4gICAgICAgIHRoaXMuY291bnRyeSA9ICgnY291bnRyeScgaW4gZCkgPyBkLmNvdW50cnkgYXMgc3RyaW5nIDogbnVsbDtcbiAgICAgICAgdGhpcy53aW5fYmFjayA9ICgnd2luX2JhY2snIGluIGQpID8gZC53aW5fYmFjayBhcyBudW1iZXIgOiBudWxsO1xuICAgICAgICB0aGlzLndpbl9sYXkgPSAoJ3dpbl9sYXknIGluIGQpID8gZC53aW5fbGF5IGFzIG51bWJlciA6IG51bGw7XG4gICAgICAgIHRoaXMuZHJhd19sYXkgPSAoJ2RyYXdfbGF5JyBpbiBkKSA/IGQuZHJhd19sYXkgYXMgbnVtYmVyIDogbnVsbDtcbiAgICAgICAgdGhpcy5kcmF3X2JhY2sgPSAoJ2RyYXdfYmFjaycgaW4gZCkgPyBkLmRyYXdfYmFjayBhcyBudW1iZXIgOiBudWxsO1xuICAgICAgICB0aGlzLmxvc2VfbGF5ID0gKCdsb3NlX2xheScgaW4gZCkgPyBkLmxvc2VfbGF5IGFzIG51bWJlciA6IG51bGw7XG4gICAgICAgIHRoaXMubG9zZV9iYWNrID0gKCdsb3NlX2JhY2snIGluIGQpID8gZC5sb3NlX2JhY2sgYXMgbnVtYmVyIDogbnVsbDtcbiAgICAgICAgdGhpcy50b3RhbF9tYXRjaGVkID0gKCd0b3RhbF9tYXRjaGVkJyBpbiBkKSA/IGQudG90YWxfbWF0Y2hlZCBhcyBudW1iZXIgOiBudWxsO1xuICAgICAgICB0aGlzLnRvdGFsX2F2YWlsYWJsZSA9ICgndG90YWxfYXZhaWxhYmxlJyBpbiBkKSA/IGQudG90YWxfYXZhaWxhYmxlIGFzIG51bWJlciA6IG51bGw7XG4gICAgICAgIHRoaXMuZXJyb3IgPSAoJ2Vycm9yJyBpbiBkKSA/IGQuZXJyb3IgYXMgc3RyaW5nIDogbnVsbDtcbiAgICB9XG5cbiAgICB0b09iamVjdCgpOiBhbnkge1xuICAgICAgICBjb25zdCBjZmc6IGFueSA9IHt9O1xuICAgICAgICBjZmcuaWQgPSAnbnVtYmVyJztcbiAgICAgICAgY2ZnLm9yZGVyID0gJ251bWJlcic7XG4gICAgICAgIGNmZy5zY29yZV9ob21lID0gJ251bWJlcic7XG4gICAgICAgIGNmZy5zY29yZV9hd2F5ID0gJ251bWJlcic7XG4gICAgICAgIGNmZy53aW5fYmFjayA9ICdudW1iZXInO1xuICAgICAgICBjZmcud2luX2xheSA9ICdudW1iZXInO1xuICAgICAgICBjZmcuZHJhd19sYXkgPSAnbnVtYmVyJztcbiAgICAgICAgY2ZnLmRyYXdfYmFjayA9ICdudW1iZXInO1xuICAgICAgICBjZmcubG9zZV9sYXkgPSAnbnVtYmVyJztcbiAgICAgICAgY2ZnLmxvc2VfYmFjayA9ICdudW1iZXInO1xuICAgICAgICBjZmcudG90YWxfbWF0Y2hlZCA9ICdudW1iZXInO1xuICAgICAgICBjZmcudG90YWxfYXZhaWxhYmxlID0gJ251bWJlcic7XG4gICAgICAgIHJldHVybiBUb09iamVjdCh0aGlzLCBjZmcpO1xuICAgIH1cbn1cblxuXG4vLyBzdHJ1Y3QydHM6Z2l0aHViLmNvbS9mcGF3ZWwvYmV0ZmFpcnMvZm9vdGJhbGwvZm9vdGJhbGwyLkdhbWVzQ2hhbmdlc1xuZXhwb3J0IGNsYXNzIEdhbWVzQ2hhbmdlcyB7XG4gICAgcmVzZXQ6IGJvb2xlYW47XG4gICAgbmV3OiBHYW1lW107XG4gICAgb3V0OiBudW1iZXJbXTtcbiAgICB1cGQ6IEdhbWVDaGFuZ2VzW107XG5cbiAgICBjb25zdHJ1Y3RvcihkYXRhPzogYW55KSB7XG4gICAgICAgIGNvbnN0IGQ6IGFueSA9IChkYXRhICYmIHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JykgPyBUb09iamVjdChkYXRhKSA6IHt9O1xuICAgICAgICB0aGlzLnJlc2V0ID0gKCdyZXNldCcgaW4gZCkgPyBkLnJlc2V0IGFzIGJvb2xlYW4gOiBmYWxzZTtcbiAgICAgICAgdGhpcy5uZXcgPSBBcnJheS5pc0FycmF5KGQubmV3KSA/IGQubmV3Lm1hcCgodjogYW55KSA9PiBuZXcgR2FtZSh2KSkgOiBbXTtcbiAgICAgICAgdGhpcy5vdXQgPSAoJ291dCcgaW4gZCkgPyBkLm91dCBhcyBudW1iZXJbXSA6IFtdO1xuICAgICAgICB0aGlzLnVwZCA9IEFycmF5LmlzQXJyYXkoZC51cGQpID8gZC51cGQubWFwKCh2OiBhbnkpID0+IG5ldyBHYW1lQ2hhbmdlcyh2KSkgOiBbXTtcbiAgICB9XG5cbiAgICB0b09iamVjdCgpOiBhbnkge1xuICAgICAgICBjb25zdCBjZmc6IGFueSA9IHt9O1xuICAgICAgICByZXR1cm4gVG9PYmplY3QodGhpcywgY2ZnKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBseV9nYW1lc19jaGFuZ2VzKGdhbWVzOiBHYW1lW10sIGdhbWVzQ2hhbmdlczogR2FtZXNDaGFuZ2VzKSB7XG5cbiAgICBjb25zdCB1ID0gZ2V0R2FtZXNDaGFuZ2VzKGdhbWVzQ2hhbmdlcyk7XG5cbiAgICBsZXQgbmV4dEdhbWVzID0gZ2FtZXNDaGFuZ2VzLm5ldztcblxuICAgIGdhbWVzLmZpbHRlcigoZ2FtZSkgPT4ge1xuICAgICAgICByZXR1cm4gISh1Lm91dC5oYXMoZ2FtZS5pZCkgfHwgdS5uZXcuaGFzKGdhbWUuaWQpKTtcbiAgICB9KS5tYXAoKGdhbWUpID0+IHtcbiAgICAgICAgY29uc3QgZ2FtZUNoYW5nZXMgPSB1LnVwZC5nZXQoZ2FtZS5pZCk7XG4gICAgICAgIGlmIChnYW1lQ2hhbmdlcykge1xuICAgICAgICAgICAgZ2FtZS5hcHBseUdhbWVDaGFuZ2VzKGdhbWVDaGFuZ2VzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2FtZTtcbiAgICB9KS5mb3JFYWNoKChnYW1lKSA9PiBuZXh0R2FtZXMucHVzaChnYW1lKSk7XG4gICAgbmV4dEdhbWVzLnNvcnQoKHgsIHkpID0+IHgub3JkZXIgLSB5Lm9yZGVyKTtcblxuICAgIGxldCBpZF9nYW1lID0gbmV3IE1hcDxudW1iZXIsIEdhbWU+KCk7XG4gICAgZm9yIChsZXQgeCBvZiBuZXh0R2FtZXMpIHtcbiAgICAgICAgY29uc3QgeSA9IGlkX2dhbWUuZ2V0KHguaWQpO1xuICAgICAgICBpZiAoeSkge1xuICAgICAgICAgICAgY29uc3QgZm9ybWF0R2FtZSA9ICh4OiBHYW1lKSA9PiBgJCR7eC5vcmRlcn0gJHt4LmhvbWV9ICR7eC5hd2F5fWA7XG4gICAgICAgICAgICB0aHJvdyAoYEFzc2VydCB1bmlxdWUgZ2FtZSBpZDogJHtmb3JtYXRHYW1lKHgpfSBhbmQgJHtmb3JtYXRHYW1lKHkpfWApO1xuICAgICAgICB9XG4gICAgICAgIGlkX2dhbWUuc2V0KHguaWQsIHgpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXh0R2FtZXM7XG59XG5cblxuZnVuY3Rpb24gZ2V0R2FtZXNDaGFuZ2VzKHg6IEdhbWVzQ2hhbmdlcykge1xuICAgIGxldCByID0ge1xuICAgICAgICBvdXQ6IG5ldyBTZXQ8bnVtYmVyPigpLFxuICAgICAgICBuZXc6IG5ldyBNYXA8bnVtYmVyLCBHYW1lPigpLFxuICAgICAgICB1cGQ6IG5ldyBNYXA8bnVtYmVyLCBHYW1lQ2hhbmdlcz4oKSxcbiAgICB9O1xuXG5cbiAgICBpZiAoeC5vdXQpIHtcbiAgICAgICAgZm9yIChsZXQgdmFsdWUgb2YgeC5vdXQpIHtcbiAgICAgICAgICAgIHIub3V0LmFkZCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoeC5uZXcpIHtcbiAgICAgICAgZm9yIChsZXQgdmFsdWUgb2YgeC5uZXcpIHtcbiAgICAgICAgICAgIHIubmV3LnNldCh2YWx1ZS5pZCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHgudXBkKSB7XG4gICAgICAgIGZvciAobGV0IHZhbHVlIG9mIHgudXBkKSB7XG4gICAgICAgICAgICByLnVwZC5zZXQodmFsdWUuaWQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcjtcbn1cblxuXG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xyXG5pbXBvcnQgeyBGb290YmFsbCB9IGZyb20gXCIuL2NvbXBvbmVudHMvRm9vdGJhbGwvRm9vdGJhbGxcIjtcclxuXHJcblJlYWN0RE9NLnJlbmRlcihcclxuICAgIDxGb290YmFsbCAgLz4sXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcFwiKVxyXG4pO1xyXG5cclxuIiwiXG4vLyBoZWxwZXJzXG5jb25zdCBtYXhVbml4VFNJblNlY29uZHMgPSA5OTk5OTk5OTk5O1xuXG5mdW5jdGlvbiBQYXJzZURhdGUoZDogRGF0ZSB8IG51bWJlciB8IHN0cmluZyk6IERhdGUge1xuXHRpZiAoZCBpbnN0YW5jZW9mIERhdGUpIHJldHVybiBkO1xuXHRpZiAodHlwZW9mIGQgPT09ICdudW1iZXInKSB7XG5cdFx0aWYgKGQgPiBtYXhVbml4VFNJblNlY29uZHMpIHJldHVybiBuZXcgRGF0ZShkKTtcblx0XHRyZXR1cm4gbmV3IERhdGUoZCAqIDEwMDApOyAvLyBnbyB0c1xuXHR9XG5cdHJldHVybiBuZXcgRGF0ZShkKTtcbn1cblxuZnVuY3Rpb24gUGFyc2VOdW1iZXIodjogbnVtYmVyIHwgc3RyaW5nLCBpc0ludCA9IGZhbHNlKTogbnVtYmVyIHtcblx0aWYgKCF2KSByZXR1cm4gMDtcblx0aWYgKHR5cGVvZiB2ID09PSAnbnVtYmVyJykgcmV0dXJuIHY7XG5cdHJldHVybiAoaXNJbnQgPyBwYXJzZUludCh2KSA6IHBhcnNlRmxvYXQodikpIHx8IDA7XG59XG5cbmZ1bmN0aW9uIEZyb21BcnJheTxUPihDdG9yOiB7IG5ldyh2OiBhbnkpOiBUIH0sIGRhdGE/OiBhbnlbXSB8IGFueSwgZGVmID0gbnVsbCk6IFRbXSB8IG51bGwge1xuXHRpZiAoIWRhdGEgfHwgIU9iamVjdC5rZXlzKGRhdGEpLmxlbmd0aCkgcmV0dXJuIGRlZjtcblx0Y29uc3QgZCA9IEFycmF5LmlzQXJyYXkoZGF0YSkgPyBkYXRhIDogW2RhdGFdO1xuXHRyZXR1cm4gZC5tYXAoKHY6IGFueSkgPT4gbmV3IEN0b3IodikpO1xufVxuXG5mdW5jdGlvbiBUb09iamVjdChvOiBhbnksIHR5cGVPckNmZzogYW55ID0ge30sIGNoaWxkID0gZmFsc2UpOiBhbnkge1xuXHRpZiAoIW8pIHJldHVybiBudWxsO1xuXHRpZiAodHlwZW9mIG8udG9PYmplY3QgPT09ICdmdW5jdGlvbicgJiYgY2hpbGQpIHJldHVybiBvLnRvT2JqZWN0KCk7XG5cblx0c3dpdGNoICh0eXBlb2Ygbykge1xuXHRcdGNhc2UgJ3N0cmluZyc6XG5cdFx0XHRyZXR1cm4gdHlwZU9yQ2ZnID09PSAnbnVtYmVyJyA/IFBhcnNlTnVtYmVyKG8pIDogbztcblx0XHRjYXNlICdib29sZWFuJzpcblx0XHRjYXNlICdudW1iZXInOlxuXHRcdFx0cmV0dXJuIG87XG5cdH1cblxuXHRpZiAobyBpbnN0YW5jZW9mIERhdGUpIHtcblx0XHRyZXR1cm4gdHlwZU9yQ2ZnID09PSAnc3RyaW5nJyA/IG8udG9JU09TdHJpbmcoKSA6IE1hdGguZmxvb3Ioby5nZXRUaW1lKCkgLyAxMDAwKTtcblx0fVxuXG5cdGlmIChBcnJheS5pc0FycmF5KG8pKSByZXR1cm4gby5tYXAoKHY6IGFueSkgPT4gVG9PYmplY3QodiwgdHlwZU9yQ2ZnLCB0cnVlKSk7XG5cblx0Y29uc3QgZDogYW55ID0ge307XG5cblx0Zm9yIChjb25zdCBrIG9mIE9iamVjdC5rZXlzKG8pKSB7XG5cdFx0Y29uc3QgdjogYW55ID0gb1trXTtcblx0XHRpZiAoIXYpIGNvbnRpbnVlO1xuXHRcdGRba10gPSBUb09iamVjdCh2LCB0eXBlT3JDZmdba10gfHwge30sIHRydWUpO1xuXHR9XG5cblx0cmV0dXJuIGQ7XG59XG5cbi8vIGNsYXNzZXNcbi8vIGV4cG9ydHNcbmV4cG9ydCB7XG4gICAgbWF4VW5peFRTSW5TZWNvbmRzLFxuXHRQYXJzZURhdGUsXG5cdFBhcnNlTnVtYmVyLFxuXHRGcm9tQXJyYXksXG5cdFRvT2JqZWN0LFxufTtcblxuLy9pbXBvcnQge21heFVuaXhUU0luU2Vjb25kcywgUGFyc2VEYXRlLCBQYXJzZU51bWJlciwgRnJvbUFycmF5LCBUb09iamVjdH0gZnJvbSBcIi4vZ29sYW5nX3R5cGVzY3JpcHRpZnlfaGVscGVyc1wiO1xuIiwiZXhwb3J0IGZ1bmN0aW9uIHdlYlNvY2tldFVSTCAodXJpIDogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBwcm90byA9IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sLnJlcGxhY2UoXCJodHRwXCIsIFwid3NcIik7XHJcbiAgICByZXR1cm4gYCR7cHJvdG99Ly8ke2RvY3VtZW50LmxvY2F0aW9uLmhvc3R9JHt1cml9YDtcclxufSIsIm1vZHVsZS5leHBvcnRzID0gUmVhY3Q7IiwibW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTTsiLCJtb2R1bGUuZXhwb3J0cyA9IFJlYWN0VGFibGU7Il0sInNvdXJjZVJvb3QiOiIifQ==\"")
}
